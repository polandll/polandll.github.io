<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Monitoring :: Apache Cassandra Documentation</title>
    <meta name="generator" content="Antora 2.3.1">
    <link rel="stylesheet" href="../../../../_/css/site.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../../..">Apache Cassandra Documentation&nbsp;&nbsp;&nbsp;<img src="../../../../_/img/cassandra_logo.png"></a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Download</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Latest</a>
            <a class="navbar-item" href="#">3.x</a>
            <a class="navbar-item" href="#">3.0</a>
            <a class="navbar-item" href="#">2.1</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Documentation</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Latest</a>
            <a class="navbar-item" href="#">3.x</a>
            <a class="navbar-item" href="#">3.0</a>
            <a class="navbar-item" href="#">2.1</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Community</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Developer Mailing List</a>
            <a class="navbar-item" href="#">User Mailing List</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Blog</a>
	</div>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="ASCIIDOC_POC" data-version="4.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../index.html">ASCIIDOC_POC</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../index.html">Cassandra Documentation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../glossary.html">Glossary</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../bugs.html">How to report bugs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../contactus.html">Contact us</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Cassandra</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../architecture/index.html">Architecture</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/overview.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/dynamo.html">Dynamo</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/storage_engine.html">Storage engine</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/guarantees.html">Guarantees</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../new/index.html">What&#8217;s new</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../getting_started/index.html">Getting Started</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../getting_started/installing.html">Installing Cassandra</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../getting_started/configuring.html">Configuring Cassandra</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../getting_started/querying.html">Inserting and querying</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../getting_started/drivers.html">Client drivers</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../getting_started/production.html">Production recommendations</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../data_modeling/index.html">Data Modeling</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#cql/index.adoc{">CQL</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../cql/changes.html">Changes</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../cql/ddl.html">DDL</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../cql/dml.html">DML</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../cql/types.html">Data types</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../cql/operators.html">Operators</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../cql/definitions.html">Definitions</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../cql/indexes.html">Secondary indexes</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../cql/mvs.html">Materialized views</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../cql/functions.html">Functions</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../cql/json.html">JSON</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../cql/security.html">Security</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../cql/triggers.html">Triggers</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../cql/appendices.html">Appendices</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuration/index.html">Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="index.html">Operating</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../tools/index.html">Tools</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../development/index.html">Development</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../plugins/index.html">Plug-ins</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../troubleshooting/index.html">Troubleshooting</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../faq/index.html">FAQ</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">ASCIIDOC_POC</span>
    <span class="version">4.0</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">ASCIIDOC_POC</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../index.html">4.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../index.html">ASCIIDOC_POC</a></li>
    <li><a href="metrics.html">Monitoring</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="file:///Users/lorina.poland/CLONES/cassandra-examples/rst-to-asciidoc-tests/ASCIIDOC/modules/cassandra/pages/operating/metrics.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<article class="doc">
<h1 class="page">Monitoring</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Metrics in Cassandra are managed using the
<a href="http://metrics.dropwizard.io">Dropwizard Metrics</a> library. These metrics
can be queried via JMX or pushed to external monitoring systems using a
number of
<a href="http://metrics.dropwizard.io/3.1.0/getting-started/#other-reporting">built
in</a> and <a href="http://metrics.dropwizard.io/3.1.0/manual/third-party/">third
party</a> reporter plugins.</p>
</div>
<div class="paragraph">
<p>Metrics are collected for a single node. It&#8217;s up to the operator to use
an external monitoring system to aggregate them.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="metric-types"><a class="anchor" href="#metric-types"></a>Metric Types</h2>
<div class="sectionbody">
<div class="paragraph">
<p>All metrics reported by cassandra fit into one of the following types.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>Gauge</code></dt>
<dd>
<p>An instantaneous measurement of a value.</p>
</dd>
<dt class="hdlist1"><code>Counter</code></dt>
<dd>
<p>A gauge for an <code>AtomicLong</code> instance. Typically this is consumed by
monitoring the change since the last call to see if there is a large
increase compared to the norm.</p>
</dd>
<dt class="hdlist1"><code>Histogram</code></dt>
<dd>
<p>Measures the statistical distribution of values in a stream of data.
+
In addition to minimum, maximum, mean, etc., it also measures median,
75th, 90th, 95th, 98th, 99th, and 99.9th percentiles.</p>
</dd>
<dt class="hdlist1"><code>Timer</code></dt>
<dd>
<p>Measures both the rate that a particular piece of code is called and
the histogram of its duration.</p>
</dd>
<dt class="hdlist1"><code>Latency</code></dt>
<dd>
<p>Special type that tracks latency (in microseconds) with a <code>Timer</code> plus
a <code>Counter</code> that tracks the total latency accrued since starting. The
former is useful if you track the change in total latency since the
last check. Each metric name of this type will have 'Latency' and
'TotalLatency' appended to it.</p>
</dd>
<dt class="hdlist1"><code>Meter</code></dt>
<dd>
<p>A meter metric which measures mean throughput and one-, five-, and
fifteen-minute exponentially-weighted moving average throughputs.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="table-metrics"><a class="anchor" href="#table-metrics"></a>Table Metrics</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Each table in Cassandra has metrics responsible for tracking its state
and performance.</p>
</div>
<div class="paragraph">
<p>The metric names are all appended with the specific <code>Keyspace</code> and
<code>Table</code> name.</p>
</div>
<div class="paragraph">
<p>Reported name format:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Metric Name</strong></dt>
<dd>
<p><code>org.apache.cassandra.metrics.Table.&lt;MetricName&gt;.&lt;Keyspace&gt;.&lt;Table&gt;</code></p>
</dd>
<dt class="hdlist1"><strong>JMX MBean</strong></dt>
<dd>
<p><code>org.apache.cassandra.metrics:type=Table keyspace=&lt;Keyspace&gt; scope=&lt;Table&gt; name=&lt;MetricName&gt;</code></p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>There is a special table called &#8216;all&#8217; without a keyspace. This
represents the aggregation of metrics across <strong>all</strong> tables and keyspaces
on the node.
====[cols=",,",options="header",]</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MemtableOnHeapSize</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Long&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Total amount of data stored in the
memtable that resides <strong>on</strong>-heap, including column related overhead and
partitions overwritten.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MemtableOffHeapSize</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Long&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Total amount of data stored in the
memtable that resides <strong>off</strong>-heap, including column related overhead and
partitions overwritten.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MemtableLiveDataSize</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Long&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Total amount of live data stored in
the memtable, excluding any data structure overhead.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllMemtablesOnHeapSize</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Long&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Total amount of data stored in the
memtables (2i and pending flush memtables included) that resides
<strong>on</strong>-heap.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllMemtablesOffHeapSize</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Long&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Total amount of data stored in
the memtables (2i and pending flush memtables included) that resides
<strong>off</strong>-heap.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllMemtablesLiveDataSize</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Long&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Total amount of live data stored
in the memtables (2i and pending flush memtables included) that resides
off-heap, excluding any data structure overhead.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MemtableColumnsCount</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Long&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Total number of columns present in
the memtable.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MemtableSwitchCount</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Counter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of times flush has resulted in the
memtable being switched out.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CompressionRatio</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Double&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Current compression ratio for all
SSTables.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EstimatedPartitionSizeHistogram</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;long[]&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Histogram of estimated
partition size (in bytes).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EstimatedPartitionCount</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Long&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Approximate number of keys in
table.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EstimatedColumnCountHistogram</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;long[]&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Histogram of estimated
number of columns.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SSTablesPerReadHistogram</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Histogram</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Histogram of the number of sstable
data files accessed per single partition read. SSTables skipped due to
Bloom Filters, min-max key or partition index lookup are not taken into
acoount.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ReadLatency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Local read latency for this table.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RangeLatency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Local range scan latency for this table.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WriteLatency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Local write latency for this table.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoordinatorReadLatency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Timer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Coordinator read latency for this table.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoordinatorWriteLatency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Timer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Coordinator write latency for this
table.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoordinatorScanLatency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Timer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Coordinator range scan latency for this
table.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PendingFlushes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Counter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Estimated number of flush tasks pending for
this table.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BytesFlushed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Counter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Total number of bytes flushed since server
[re]start.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CompactionBytesWritten</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Counter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Total number of bytes written by
compaction since server [re]start.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PendingCompactions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Integer&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Estimate of number of pending
compactions for this table.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LiveSSTableCount</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Integer&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of SSTables on disk for this
table.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LiveDiskSpaceUsed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Counter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disk space used by SSTables belonging to
this table (in bytes).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TotalDiskSpaceUsed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Counter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Total disk space used by SSTables
belonging to this table, including obsolete ones waiting to be GC&#8217;d.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MinPartitionSize</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Long&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Size of the smallest compacted partition
(in bytes).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MaxPartitionSize</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Long&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Size of the largest compacted partition
(in bytes).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MeanPartitionSize</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Long&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Size of the average compacted partition
(in bytes).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BloomFilterFalsePositives</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Long&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of false positives on
table&#8217;s bloom filter.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BloomFilterFalseRatio</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Double&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">False positive ratio of table&#8217;s
bloom filter.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BloomFilterDiskSpaceUsed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Long&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disk space used by bloom filter
(in bytes).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BloomFilterOffHeapMemoryUsed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Long&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Off-heap memory used by
bloom filter.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IndexSummaryOffHeapMemoryUsed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Long&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Off-heap memory used by
index summary.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CompressionMetadataOffHeapMemoryUsed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Long&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Off-heap memory used
by compression meta data.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">KeyCacheHitRate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Double&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Key cache hit rate for this table.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TombstoneScannedHistogram</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Histogram</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Histogram of tombstones scanned
in queries on this table.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LiveScannedHistogram</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Histogram</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Histogram of live cells scanned in
queries on this table.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ColUpdateTimeDeltaHistogram</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Histogram</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Histogram of column update time
delta on this table.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ViewLockAcquireTime</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Timer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Time taken acquiring a partition lock for
materialized view updates on this table.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ViewReadTime</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Timer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Time taken during the local read of a materialized
view update.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TrueSnapshotsSize</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Long&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disk space used by snapshots of this
table including all SSTable components.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RowCacheHitOutOfRange</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Counter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of table row cache hits that do
not satisfy the query filter, thus went to disk.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RowCacheHit</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Counter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of table row cache hits.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RowCacheMiss</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Counter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of table row cache misses.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CasPrepare</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latency of paxos prepare round.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CasPropose</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latency of paxos propose round.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CasCommit</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latency of paxos commit round.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PercentRepaired</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Double&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Percent of table data that is repaired
on disk.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BytesRepaired</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Long&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Size of table data repaired on disk</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BytesUnrepaired</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Long&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Size of table data unrepaired on disk</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BytesPendingRepair</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Long&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Size of table data isolated for an
ongoing incremental repair</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SpeculativeRetries</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Counter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of times speculative retries were
sent for this table.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SpeculativeFailedRetries</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Counter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of speculative retries that
failed to prevent a timeout</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SpeculativeInsufficientReplicas</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Counter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of speculative retries
that couldn&#8217;t be attempted due to lack of replicas</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SpeculativeSampleLatencyNanos</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Long&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of nanoseconds to
wait before speculation is attempted. Value may be statically configured
or updated periodically based on coordinator latency.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WaitingOnFreeMemtableSpace</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Histogram</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Histogram of time spent waiting
for free memtable space, either on- or off-heap.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DroppedMutations</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Counter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of dropped mutations on this table.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AnticompactionTime</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Timer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Time spent anticompacting before a
consistent repair.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ValidationTime</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Timer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Time spent doing validation compaction during
repair.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SyncTime</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Timer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Time spent doing streaming during repair.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BytesValidated</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Histogram</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Histogram over the amount of bytes read
during validation.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PartitionsValidated</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Histogram</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Histogram over the number of partitions
read during validation.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BytesAnticompacted</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Counter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">How many bytes we anticompacted.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BytesMutatedAnticompaction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Counter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">How many bytes we avoided
anticompacting because the sstable was fully contained in the repaired
range.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MutatedAnticompactionGauge</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Double&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratio of bytes mutated vs
total bytes repaired.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>== Keyspace Metrics</p>
</div>
<div class="paragraph">
<p>Each keyspace in Cassandra has metrics responsible for tracking its
state and performance.</p>
</div>
<div class="paragraph">
<p>Most of these metrics are the same as the <code>Table Metrics</code> above, only
they are aggregated at the Keyspace level. The keyspace specific metrics
are specified in the table below.</p>
</div>
<div class="paragraph">
<p>Reported name format:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Metric Name</strong></dt>
<dd>
<p><code>org.apache.cassandra.metrics.keyspace.&lt;MetricName&gt;.&lt;Keyspace&gt;</code></p>
</dd>
<dt class="hdlist1"><strong>JMX MBean</strong></dt>
<dd>
<p><code>org.apache.cassandra.metrics:type=Keyspace scope=&lt;Keyspace&gt; name=&lt;MetricName&gt;</code></p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WriteFailedIdeaCL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Counter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of writes that failed to achieve the
configured ideal consistency level or 0 if none is configured</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IdealCLWriteLatency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Coordinator latency of writes at the
configured ideal consistency level. No values are recorded if ideal
consistency level is not configured</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RepairTime</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Timer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Total time spent as repair coordinator.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RepairPrepareTime</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Timer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Total time spent preparing for repair.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>== ThreadPool Metrics</p>
</div>
<div class="paragraph">
<p>Cassandra splits work of a particular type into its own thread pool.
This provides back-pressure and asynchrony for requests on a node. It&#8217;s
important to monitor the state of these thread pools since they can tell
you how saturated a node is.</p>
</div>
<div class="paragraph">
<p>The metric names are all appended with the specific <code>ThreadPool</code> name.
The thread pools are also categorized under a specific type.</p>
</div>
<div class="paragraph">
<p>Reported name format:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Metric Name</strong></dt>
<dd>
<p><code>org.apache.cassandra.metrics.ThreadPools.&lt;MetricName&gt;.&lt;Path&gt;.&lt;ThreadPoolName&gt;</code></p>
</dd>
<dt class="hdlist1"><strong>JMX MBean</strong></dt>
<dd>
<p><code>org.apache.cassandra.metrics:type=ThreadPools path=&lt;Path&gt; scope=&lt;ThreadPoolName&gt; name=&lt;MetricName&gt;</code></p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ActiveTasks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Integer&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of tasks being actively worked on
by this pool.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PendingTasks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Integer&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of queued tasks queued up on this
pool.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CompletedTasks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Counter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of tasks completed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TotalBlockedTasks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Counter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of tasks that were blocked due to
queue saturation.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CurrentlyBlockedTask</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Counter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of tasks that are currently
blocked due to queue saturation but on retry will become unblocked.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MaxPoolSize</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Integer&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The maximum number of threads in this
pool.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MaxTasksQueued</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Integer&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The maximum number of tasks queued
before a task get blocked.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The following thread pools can be monitored.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Native-Transport-Requests</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">transport</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handles client CQL requests</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CounterMutationStage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">request</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Responsible for counter writes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ViewMutationStage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">request</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Responsible for materialized view writes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MutationStage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">request</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Responsible for all other writes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ReadRepairStage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">request</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ReadRepair happens on this thread pool</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ReadStage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">request</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Local reads run on this thread pool</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RequestResponseStage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">request</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Coordinator requests to the cluster run
on this thread pool</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AntiEntropyStage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">internal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Builds merkle tree for repairs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CacheCleanupExecutor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">internal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cache maintenance performed on this
thread pool</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CompactionExecutor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">internal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Compactions are run on these threads</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GossipStage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">internal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handles gossip requests</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">HintsDispatcher</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">internal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Performs hinted handoff</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">InternalResponseStage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">internal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Responsible for intra-cluster
callbacks</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MemtableFlushWriter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">internal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Writes memtables to disk</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MemtablePostFlush</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">internal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cleans up commit log after memtable is
written to disk</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MemtableReclaimMemory</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">internal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Memtable recycling</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MigrationStage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">internal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Runs schema migrations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MiscStage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">internal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Misceleneous tasks run here</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PendingRangeCalculator</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">internal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Calculates token range</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PerDiskMemtableFlushWriter_0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">internal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Responsible for writing a spec
(there is one of these per disk 0-N)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sampler</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">internal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Responsible for re-sampling the index summaries of
SStables</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SecondaryIndexManagement</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">internal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Performs updates to secondary
indexes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ValidationExecutor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">internal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Performs validation compaction or
scrubbing</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ViewBuildExecutor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">internal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Performs materialized views initial build</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>== Client Request Metrics</p>
</div>
<div class="paragraph">
<p>Client requests have their own set of metrics that encapsulate the work
happening at coordinator level.</p>
</div>
<div class="paragraph">
<p>Different types of client requests are broken down by <code>RequestType</code>.</p>
</div>
<div class="paragraph">
<p>Reported name format:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Metric Name</strong></dt>
<dd>
<p><code>org.apache.cassandra.metrics.ClientRequest.&lt;MetricName&gt;.&lt;RequestType&gt;</code></p>
</dd>
<dt class="hdlist1"><strong>JMX MBean</strong></dt>
<dd>
<p><code>org.apache.cassandra.metrics:type=ClientRequest scope=&lt;RequestType&gt; name=&lt;MetricName&gt;</code></p>
</dd>
<dt class="hdlist1">RequestType</dt>
<dd>
<p>CASRead</p>
</dd>
<dt class="hdlist1">Description</dt>
<dd>
<p>Metrics related to transactional read requests.</p>
</dd>
<dt class="hdlist1">Metrics</dt>
<dd>
<p>[cols=",,",options="header",]
|===
|Name |Type |Description
|Timeouts |Counter |Number of timeouts encountered.</p>
<div class="literalblock">
<div class="content">
<pre>|Failures |Counter |Number of transaction failures encountered.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>|  |Latency |Transaction read latency.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>|Unavailables |Counter |Number of unavailable exceptions encountered.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>|UnfinishedCommit |Counter |Number of transactions that were committed
on read.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>|ConditionNotMet |Counter |Number of transaction preconditions did not
match current values.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>|ContentionHistogram |Histogram |How many contended reads were
encountered
|===</pre>
</div>
</div>
</dd>
<dt class="hdlist1">RequestType</dt>
<dd>
<p>CASWrite</p>
</dd>
<dt class="hdlist1">Description</dt>
<dd>
<p>Metrics related to transactional write requests.</p>
</dd>
<dt class="hdlist1">Metrics</dt>
<dd>
<p>[cols=",,",options="header",]
|===
|Name |Type |Description
|Timeouts |Counter |Number of timeouts encountered.</p>
<div class="literalblock">
<div class="content">
<pre>|Failures |Counter |Number of transaction failures encountered.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>|  |Latency |Transaction write latency.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>|UnfinishedCommit |Counter |Number of transactions that were committed
on write.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>|ConditionNotMet |Counter |Number of transaction preconditions did not
match current values.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>|ContentionHistogram |Histogram |How many contended writes were
encountered</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>|MutationSizeHistogram |Histogram |Total size in bytes of the requests
mutations.
|===</pre>
</div>
</div>
</dd>
<dt class="hdlist1">RequestType</dt>
<dd>
<p>Read</p>
</dd>
<dt class="hdlist1">Description</dt>
<dd>
<p>Metrics related to standard read requests.</p>
</dd>
<dt class="hdlist1">Metrics</dt>
<dd>
<p>[cols=",,",options="header",]
|===
|Name |Type |Description
|Timeouts |Counter |Number of timeouts encountered.
|Failures |Counter |Number of read failures encountered.
|  |Latency |Read latency.
|Unavailables |Counter |Number of unavailable exceptions encountered.
|===</p>
</dd>
<dt class="hdlist1">RequestType</dt>
<dd>
<p>RangeSlice</p>
</dd>
<dt class="hdlist1">Description</dt>
<dd>
<p>Metrics related to token range read requests.</p>
</dd>
<dt class="hdlist1">Metrics</dt>
<dd>
<p>[cols=",,",options="header",]
|===
|Name |Type |Description
|Timeouts |Counter |Number of timeouts encountered.
|Failures |Counter |Number of range query failures encountered.
|  |Latency |Range query latency.
|Unavailables |Counter |Number of unavailable exceptions encountered.
|===</p>
</dd>
<dt class="hdlist1">RequestType</dt>
<dd>
<p>Write</p>
</dd>
<dt class="hdlist1">Description</dt>
<dd>
<p>Metrics related to regular write requests.</p>
</dd>
<dt class="hdlist1">Metrics</dt>
<dd>
<p>[cols=",,",options="header",]
|===
|Name |Type |Description
|Timeouts |Counter |Number of timeouts encountered.</p>
<div class="literalblock">
<div class="content">
<pre>|Failures |Counter |Number of write failures encountered.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>|  |Latency |Write latency.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>|Unavailables |Counter |Number of unavailable exceptions encountered.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>|MutationSizeHistogram |Histogram |Total size in bytes of the requests
mutations.
|===</pre>
</div>
</div>
</dd>
<dt class="hdlist1">RequestType</dt>
<dd>
<p>ViewWrite</p>
</dd>
<dt class="hdlist1">Description</dt>
<dd>
<p>Metrics related to materialized view write wrtes.</p>
</dd>
<dt class="hdlist1">Metrics</dt>
<dd>
<p>[cols=",,",]
|===
|Timeouts |Counter |Number of timeouts encountered.</p>
<div class="literalblock">
<div class="content">
<pre>|Failures |Counter |Number of transaction failures encountered.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>|Unavailables |Counter |Number of unavailable exceptions encountered.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>|ViewReplicasAttempted |Counter |Total number of attempted view
replica writes.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>|ViewReplicasSuccess |Counter |Total number of succeded view replica
writes.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>|ViewPendingMutations |Gauge&lt;Long&gt; |ViewReplicasAttempted -
ViewReplicasSuccess.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>|ViewWriteLatency |Timer |Time between when mutation is applied to
base table and when CL.ONE is achieved on view.
|===</pre>
</div>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>== Cache Metrics</p>
</div>
<div class="paragraph">
<p>Cassandra caches have metrics to track the effectivness of the caches.
Though the <code>Table Metrics</code> might be more useful.</p>
</div>
<div class="paragraph">
<p>Reported name format:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Metric Name</strong></dt>
<dd>
<p><code>org.apache.cassandra.metrics.Cache.&lt;MetricName&gt;.&lt;CacheName&gt;</code></p>
</dd>
<dt class="hdlist1"><strong>JMX MBean</strong></dt>
<dd>
<p><code>org.apache.cassandra.metrics:type=Cache scope=&lt;CacheName&gt; name=&lt;MetricName&gt;</code></p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Capacity</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Long&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cache capacity in bytes.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Entries</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Integer&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Total number of cache entries.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">FifteenMinuteCacheHitRate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Double&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">15m cache hit rate.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">FiveMinuteCacheHitRate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Double&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5m cache hit rate.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OneMinuteCacheHitRate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Double&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1m cache hit rate.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">HitRate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Double&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All time cache hit rate.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hits</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Meter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Total number of cache hits.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Misses</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Meter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Total number of cache misses.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MissLatency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Timer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latency of misses.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Requests</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Long&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Total number of cache requests.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Size</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Long&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Total size of occupied cache, in bytes.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The following caches are covered:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CounterCache</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Keeps hot counters in memory for performance.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ChunkCache</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In process uncompressed page cache.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">KeyCache</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cache for partition to sstable offsets.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RowCache</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cache for rows kept in memory.</p></td>
</tr>
</tbody>
</table>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Misses and MissLatency are only defined for the ChunkCache
====== CQL Metrics</p>
</div>
<div class="paragraph">
<p>Metrics specific to CQL prepared statement caching.</p>
</div>
<div class="paragraph">
<p>Reported name format:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Metric Name</strong></dt>
<dd>
<p><code>org.apache.cassandra.metrics.CQL.&lt;MetricName&gt;</code></p>
</dd>
<dt class="hdlist1"><strong>JMX MBean</strong></dt>
<dd>
<p><code>org.apache.cassandra.metrics:type=CQL name=&lt;MetricName&gt;</code></p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PreparedStatementsCount</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Integer&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of cached prepared
statements.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PreparedStatementsEvicted</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Counter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of prepared statements
evicted from the prepared statement cache</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PreparedStatementsExecuted</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Counter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of prepared statements
executed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RegularStatementsExecuted</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Counter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of <strong>non</strong> prepared statements
executed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PreparedStatementsRatio</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Double&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Percentage of statements that
are prepared vs unprepared.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="dropped-metrics"><a class="anchor" href="#dropped-metrics"></a>DroppedMessage Metrics</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Metrics specific to tracking dropped messages for different types of
requests. Dropped writes are stored and retried by <code>Hinted Handoff</code></p>
</div>
<div class="paragraph">
<p>Reported name format:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Metric Name</strong></dt>
<dd>
<p><code>org.apache.cassandra.metrics.DroppedMessage.&lt;MetricName&gt;.&lt;Type&gt;</code></p>
</dd>
<dt class="hdlist1"><strong>JMX MBean</strong></dt>
<dd>
<p><code>org.apache.cassandra.metrics:type=DroppedMessage scope=&lt;Type&gt; name=&lt;MetricName&gt;</code></p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CrossNodeDroppedLatency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Timer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The dropped latency across nodes.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">InternalDroppedLatency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Timer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The dropped latency within node.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dropped</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Meter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of dropped messages.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The different types of messages tracked are:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BATCH_STORE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Batchlog write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BATCH_REMOVE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Batchlog cleanup (after succesfully applied)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">COUNTER_MUTATION</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Counter writes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">HINT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hint replay</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MUTATION</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Regular writes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">READ</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Regular reads</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">READ_REPAIR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read repair</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAGED_SLICE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paged read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RANGE_SLICE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Token range read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">REQUEST_RESPONSE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RPC Callbacks</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">_TRACE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tracing writes</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="streaming-metrics"><a class="anchor" href="#streaming-metrics"></a>Streaming Metrics</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Metrics reported during <code>Streaming</code> operations, such as repair,
bootstrap, rebuild.</p>
</div>
<div class="paragraph">
<p>These metrics are specific to a peer endpoint, with the source node
being the node you are pulling the metrics from.</p>
</div>
<div class="paragraph">
<p>Reported name format:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Metric Name</strong></dt>
<dd>
<p><code>org.apache.cassandra.metrics.Streaming.&lt;MetricName&gt;.&lt;PeerIP&gt;</code></p>
</dd>
<dt class="hdlist1"><strong>JMX MBean</strong></dt>
<dd>
<p><code>org.apache.cassandra.metrics:type=Streaming scope=&lt;PeerIP&gt; name=&lt;MetricName&gt;</code></p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IncomingBytes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Counter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of bytes streamed to this node from the
peer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OutgoingBytes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Counter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of bytes streamed to the peer endpoint
from this node.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="compaction-metrics"><a class="anchor" href="#compaction-metrics"></a>Compaction Metrics</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Metrics specific to <code>Compaction</code> work.</p>
</div>
<div class="paragraph">
<p>Reported name format:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Metric Name</strong></dt>
<dd>
<p><code>org.apache.cassandra.metrics.Compaction.&lt;MetricName&gt;</code></p>
</dd>
<dt class="hdlist1"><strong>JMX MBean</strong></dt>
<dd>
<p><code>org.apache.cassandra.metrics:type=Compaction name=&lt;MetricName&gt;</code></p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BytesCompacted</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Counter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Total number of bytes compacted since server
[re]start.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PendingTasks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Integer&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Estimated number of compactions remaining
to perform.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CompletedTasks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Long&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of completed compactions since
server [re]start.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TotalCompactionsCompleted</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Meter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Throughput of completed compactions
since server [re]start.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PendingTasksByTableName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Map&lt;String, Map&lt;String, Integer&gt;&gt;&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Estimated number of compactions remaining to perform, grouped by
keyspace and then table name. This info is also kept in <code>Table Metrics</code>.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="commitlog-metrics"><a class="anchor" href="#commitlog-metrics"></a>CommitLog Metrics</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Metrics specific to the <code>CommitLog</code></p>
</div>
<div class="paragraph">
<p>Reported name format:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Metric Name</strong></dt>
<dd>
<p><code>org.apache.cassandra.metrics.CommitLog.&lt;MetricName&gt;</code></p>
</dd>
<dt class="hdlist1"><strong>JMX MBean</strong></dt>
<dd>
<p><code>org.apache.cassandra.metrics:type=CommitLog name=&lt;MetricName&gt;</code></p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CompletedTasks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Long&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Total number of commit log messages
written since [re]start.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PendingTasks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Long&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of commit log messages written but
yet to be fsync&#8217;d.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TotalCommitLogSize</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Long&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Current size, in bytes, used by all
the commit log segments.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WaitingOnSegmentAllocation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Timer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Time spent waiting for a
CommitLogSegment to be allocated - under normal conditions this should
be zero.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WaitingOnCommit</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Timer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The time spent waiting on CL fsync; for
Periodic this is only occurs when the sync is lagging its sync interval.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="storage-metrics"><a class="anchor" href="#storage-metrics"></a>Storage Metrics</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Metrics specific to the storage engine.</p>
</div>
<div class="paragraph">
<p>Reported name format:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Metric Name</strong></dt>
<dd>
<p><code>org.apache.cassandra.metrics.Storage.&lt;MetricName&gt;</code></p>
</dd>
<dt class="hdlist1"><strong>JMX MBean</strong></dt>
<dd>
<p><code>org.apache.cassandra.metrics:type=Storage name=&lt;MetricName&gt;</code></p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Exceptions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Counter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of internal exceptions caught. Under normal
exceptions this should be zero.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Load</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Counter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Size, in bytes, of the on disk data size this node
manages.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TotalHints</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Counter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of hint messages written to this node since
[re]start. Includes one entry for each host to be hinted per hint.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TotalHintsInProgress</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Counter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of hints attemping to be sent
currently.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="handoff-metrics"><a class="anchor" href="#handoff-metrics"></a>HintedHandoff Metrics</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Metrics specific to Hinted Handoff. There are also some metrics related
to hints tracked in <code>Storage Metrics</code></p>
</div>
<div class="paragraph">
<p>These metrics include the peer endpoint <strong>in the metric name</strong></p>
</div>
<div class="paragraph">
<p>Reported name format:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Metric Name</strong></dt>
<dd>
<p><code>org.apache.cassandra.metrics.HintedHandOffManager.&lt;MetricName&gt;</code></p>
</dd>
<dt class="hdlist1"><strong>JMX MBean</strong></dt>
<dd>
<p><code>org.apache.cassandra.metrics:type=HintedHandOffManager name=&lt;MetricName&gt;</code></p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hints_created-&lt;PeerIP&gt;</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Counter</p>
</div>
</blockquote>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Number of hints on disk for this peer.</p>
</div>
</blockquote>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hints_not_stored-&lt;PeerIP&gt;</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Counter</p>
</div>
</blockquote>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Number of hints not stored for this peer, due to being down past the
configured hint window.</p>
</div>
</blockquote>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="hintsservice-metrics"><a class="anchor" href="#hintsservice-metrics"></a>HintsService Metrics</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Metrics specific to the Hints delivery service. There are also some
metrics related to hints tracked in <code>Storage Metrics</code></p>
</div>
<div class="paragraph">
<p>These metrics include the peer endpoint <strong>in the metric name</strong></p>
</div>
<div class="paragraph">
<p>Reported name format:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Metric Name</strong></dt>
<dd>
<p><code>org.apache.cassandra.metrics.HintsService.&lt;MetricName&gt;</code></p>
</dd>
<dt class="hdlist1"><strong>JMX MBean</strong></dt>
<dd>
<p><code>org.apache.cassandra.metrics:type=HintsService name=&lt;MetricName&gt;</code></p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">HintsSucceeded</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Meter</p>
</div>
</blockquote>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>A meter of the hints successfully delivered</p>
</div>
</blockquote>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">HintsFailed</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Meter</p>
</div>
</blockquote>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>A meter of the hints that failed deliver</p>
</div>
</blockquote>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">HintsTimedOut</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Meter</p>
</div>
</blockquote>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>A meter of the hints that timed out</p>
</div>
</blockquote>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hint_delays</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Histogram</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Histogram of hint delivery delays (in
milliseconds)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hint_delays-&lt;PeerIP&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Histogram</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Histogram of hint delivery delays (in
milliseconds) per peer</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="sstable-index-metrics"><a class="anchor" href="#sstable-index-metrics"></a>SSTable Index Metrics</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Metrics specific to the SSTable index metadata.</p>
</div>
<div class="paragraph">
<p>Reported name format:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Metric Name</strong></dt>
<dd>
<p><code>org.apache.cassandra.metrics.Index.&lt;MetricName&gt;.RowIndexEntry</code></p>
</dd>
<dt class="hdlist1"><strong>JMX MBean</strong></dt>
<dd>
<p><code>org.apache.cassandra.metrics:type=Index scope=RowIndexEntry name=&lt;MetricName&gt;</code></p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IndexedEntrySize</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Histogram</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Histogram of the on-heap size, in bytes,
of the index across all SSTables.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IndexInfoCount</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Histogram</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Histogram of the number of on-heap index
entries managed across all SSTables.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IndexInfoGets</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Histogram</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Histogram of the number index seeks performed
per SSTable.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="bufferpool-metrics"><a class="anchor" href="#bufferpool-metrics"></a>BufferPool Metrics</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Metrics specific to the internal recycled buffer pool Cassandra manages.
This pool is meant to keep allocations and GC lower by recycling on and
off heap buffers.</p>
</div>
<div class="paragraph">
<p>Reported name format:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Metric Name</strong></dt>
<dd>
<p><code>org.apache.cassandra.metrics.BufferPool.&lt;MetricName&gt;</code></p>
</dd>
<dt class="hdlist1"><strong>JMX MBean</strong></dt>
<dd>
<p><code>org.apache.cassandra.metrics:type=BufferPool name=&lt;MetricName&gt;</code></p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Size</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Long&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Size, in bytes, of the managed buffer pool</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Misses</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Meter</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>The rate of misses in the pool. The higher this is the more allocations
incurred.</p>
</div>
</blockquote>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="client-metrics"><a class="anchor" href="#client-metrics"></a>Client Metrics</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Metrics specifc to client managment.</p>
</div>
<div class="paragraph">
<p>Reported name format:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Metric Name</strong></dt>
<dd>
<p><code>org.apache.cassandra.metrics.Client.&lt;MetricName&gt;</code></p>
</dd>
<dt class="hdlist1"><strong>JMX MBean</strong></dt>
<dd>
<p><code>org.apache.cassandra.metrics:type=Client name=&lt;MetricName&gt;</code></p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">connectedNativeClients</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Integer&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of clients connected to
this nodes native protocol server</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">connections</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;List&lt;Map&lt;String, String&gt;&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of all connections
and their state information</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">connectedNativeClientsByUser</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Map&lt;String, Int&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of
connnective native clients by username</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="batch-metrics"><a class="anchor" href="#batch-metrics"></a>Batch Metrics</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Metrics specifc to batch statements.</p>
</div>
<div class="paragraph">
<p>Reported name format:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Metric Name</strong></dt>
<dd>
<p><code>org.apache.cassandra.metrics.Batch.&lt;MetricName&gt;</code></p>
</dd>
<dt class="hdlist1"><strong>JMX MBean</strong></dt>
<dd>
<p><code>org.apache.cassandra.metrics:type=Batch name=&lt;MetricName&gt;</code></p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PartitionsPerCounterBatch</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Histogram</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Distribution of the number of
partitions processed per counter batch</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PartitionsPerLoggedBatch</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Histogram</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Distribution of the number of
partitions processed per logged batch</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PartitionsPerUnloggedBatch</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Histogram</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Distribution of the number of
partitions processed per unlogged batch</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="jvm-metrics"><a class="anchor" href="#jvm-metrics"></a>JVM Metrics</h2>
<div class="sectionbody">
<div class="paragraph">
<p>JVM metrics such as memory and garbage collection statistics can either
be accessed by connecting to the JVM using JMX or can be exported using
<a href="#metric-reporters">Metric Reporters</a>.</p>
</div>
<div class="sect2">
<h3 id="bufferpool"><a class="anchor" href="#bufferpool"></a>BufferPool</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Metric Name</strong></dt>
<dd>
<p><code>jvm.buffers.&lt;direct|mapped&gt;.&lt;MetricName&gt;</code></p>
</dd>
<dt class="hdlist1"><strong>JMX MBean</strong></dt>
<dd>
<p><code>java.nio:type=BufferPool name=&lt;direct|mapped&gt;</code></p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Capacity</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Long&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Estimated total capacity of the buffers in this
pool</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Count</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Long&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Estimated number of buffers in the pool</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Long&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Estimated memory that the Java virtual machine is
using for this buffer pool</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="filedescriptorratio"><a class="anchor" href="#filedescriptorratio"></a>FileDescriptorRatio</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Metric Name</strong></dt>
<dd>
<p><code>jvm.fd.&lt;MetricName&gt;</code></p>
</dd>
<dt class="hdlist1"><strong>JMX MBean</strong></dt>
<dd>
<p><code>java.lang:type=OperatingSystem name=&lt;OpenFileDescriptorCount|MaxFileDescriptorCount&gt;</code></p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Usage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratio</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratio of used to total file descriptors</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="garbagecollector"><a class="anchor" href="#garbagecollector"></a>GarbageCollector</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Metric Name</strong></dt>
<dd>
<p><code>jvm.gc.&lt;gc_type&gt;.&lt;MetricName&gt;</code></p>
</dd>
<dt class="hdlist1"><strong>JMX MBean</strong></dt>
<dd>
<p><code>java.lang:type=GarbageCollector name=&lt;gc_type&gt;</code></p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Count</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Long&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Total number of collections that have occurred</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Time</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Long&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Approximate accumulated collection elapsed time in
milliseconds</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="memory"><a class="anchor" href="#memory"></a>Memory</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Metric Name</strong></dt>
<dd>
<p><code>jvm.memory.&lt;heap/non-heap/total&gt;.&lt;MetricName&gt;</code></p>
</dd>
<dt class="hdlist1"><strong>JMX MBean</strong></dt>
<dd>
<p><code>java.lang:type=Memory</code></p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Committed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Long&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Amount of memory in bytes that is committed for
the JVM to use</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Init</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Long&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Amount of memory in bytes that the JVM initially
requests from the OS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Max</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Long&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maximum amount of memory in bytes that can be used
for memory management</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Usage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratio</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratio of used to maximum memory</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Long&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Amount of used memory in bytes</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="memorypool"><a class="anchor" href="#memorypool"></a>MemoryPool</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Metric Name</strong></dt>
<dd>
<p><code>jvm.memory.pools.&lt;memory_pool&gt;.&lt;MetricName&gt;</code></p>
</dd>
<dt class="hdlist1"><strong>JMX MBean</strong></dt>
<dd>
<p><code>java.lang:type=MemoryPool name=&lt;memory_pool&gt;</code></p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Committed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Long&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Amount of memory in bytes that is committed for
the JVM to use</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Init</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Long&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Amount of memory in bytes that the JVM initially
requests from the OS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Max</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Long&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maximum amount of memory in bytes that can be used
for memory management</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Usage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratio</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratio of used to maximum memory</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gauge&lt;Long&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Amount of used memory in bytes</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="jmx"><a class="anchor" href="#jmx"></a>JMX</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Any JMX based client can access metrics from cassandra.</p>
</div>
<div class="paragraph">
<p>If you wish to access JMX metrics over http it&#8217;s possible to download
<a href="http://mx4j.sourceforge.net/">Mx4jTool</a> and place <code>mx4j-tools.jar</code> into
the classpath. On startup you will see in the log:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs" data-lang="none">HttpAdaptor version 3.0.2 started on port 8081</code></pre>
</div>
</div>
<div class="paragraph">
<p>To choose a different port (8081 is the default) or a different listen
address (0.0.0.0 is not the default) edit <code>conf/cassandra-env.sh</code> and
uncomment:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs" data-lang="none">#MX4J_ADDRESS="-Dmx4jaddress=0.0.0.0"

#MX4J_PORT="-Dmx4jport=8081"</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="metric-reporters"><a class="anchor" href="#metric-reporters"></a>Metric Reporters</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As mentioned at the top of this section on monitoring the Cassandra
metrics can be exported to a number of monitoring system a number of
<a href="http://metrics.dropwizard.io/3.1.0/getting-started/#other-reporting">built
in</a> and <a href="http://metrics.dropwizard.io/3.1.0/manual/third-party/">third
party</a> reporter plugins.</p>
</div>
<div class="paragraph">
<p>The configuration of these plugins is managed by the
<a href="https://github.com/addthis/metrics-reporter-config">metrics reporter
config project</a>. There is a sample configuration file located at
<code>conf/metrics-reporter-config-sample.yaml</code>.</p>
</div>
<div class="paragraph">
<p>Once configured, you simply start cassandra with the flag
<code>-Dcassandra.metricsReporterConfigFile=metrics-reporter-config.yaml</code>.
The specified .yaml file plus any 3rd party reporter jars must all be in
Cassandra&#8217;s classpath.</p>
</div>
</div>
</div>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../../../_/js/site.js"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
