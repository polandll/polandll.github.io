<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Building and IDE Integration :: Apache Cassandra Documentation</title>
    <meta name="generator" content="Antora 2.3.1">
    <link rel="stylesheet" href="../../../../_/css/site.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../../..">Apache Cassandra Documentation&nbsp;&nbsp;&nbsp;<img src="../../../../_/img/cassandra_logo.png"></a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Download</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Latest</a>
            <a class="navbar-item" href="#">3.x</a>
            <a class="navbar-item" href="#">3.0</a>
            <a class="navbar-item" href="#">2.1</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Documentation</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Latest</a>
            <a class="navbar-item" href="#">3.x</a>
            <a class="navbar-item" href="#">3.0</a>
            <a class="navbar-item" href="#">2.1</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Community</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Developer Mailing List</a>
            <a class="navbar-item" href="#">User Mailing List</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Blog</a>
	</div>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="ASCIIDOC_POC" data-version="4.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../index.html">ASCIIDOC_POC</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../index.html">Cassandra Documentation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../glossary.html">Glossary</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../bugs.html">How to report bugs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../contactus.html">Contact us</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Cassandra</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../architecture/index.html">Architecture</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/overview.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/dynamo.html">Dynamo</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/storage_engine.html">Storage engine</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/guarantees.html">Guarantees</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../new/index.html">What&#8217;s new</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../getting_started/index.html">Getting Started</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../getting_started/installing.html">Installing Cassandra</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../getting_started/configuring.html">Configuring Cassandra</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../getting_started/querying.html">Inserting and querying</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../getting_started/drivers.html">Client drivers</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../getting_started/production.html">Production recommendations</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../data_modeling/index.html">Data Modeling</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#cql/index.adoc{">CQL</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../cql/changes.html">Changes</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../cql/ddl.html">DDL</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../cql/dml.html">DML</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../cql/types.html">Data types</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../cql/operators.html">Operators</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../cql/definitions.html">Definitions</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../cql/indexes.html">Secondary indexes</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../cql/mvs.html">Materialized views</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../cql/functions.html">Functions</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../cql/json.html">JSON</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../cql/security.html">Security</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../cql/triggers.html">Triggers</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../cql/appendices.html">Appendices</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuration/index.html">Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../operating/index.html">Operating</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../tools/index.html">Tools</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="index.html">Development</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../plugins/index.html">Plug-ins</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../troubleshooting/index.html">Troubleshooting</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../faq/index.html">FAQ</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">ASCIIDOC_POC</span>
    <span class="version">4.0</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">ASCIIDOC_POC</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../index.html">4.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../index.html">ASCIIDOC_POC</a></li>
    <li><a href="ide.html">Building and IDE Integration</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="file:///Users/lorina.poland/CLONES/cassandra-examples/rst-to-asciidoc-tests/ASCIIDOC/modules/cassandra/pages/development/ide.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<article class="doc">
<h1 class="page">Building and IDE Integration</h1>
<div class="sect1">
<h2 id="building-from-source"><a class="anchor" href="#building-from-source"></a>Building From Source</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Getting started with Cassandra and IntelliJ IDEA or Eclipse is simple,
once you manage to build Cassandra from source using
<a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">Java
8</a>, <a href="https://git-scm.com/">Git</a> and <a href="http://ant.apache.org/">Ant</a>.</p>
</div>
<div class="paragraph">
<p>The source code for Cassandra is shared through the central Apache Git
repository and organized by different branches. You can access the code
for the current development branch through git as follows:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>git clone https://gitbox.apache.org/repos/asf/cassandra.git cassandra-trunk</pre>
</div>
</div>
<div class="paragraph">
<p>Other branches will point to different versions of Cassandra. Switching
to a different branch requires checking out the branch by its name:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>git checkout cassandra-3.0</pre>
</div>
</div>
<div class="paragraph">
<p>You can get a list of available branches with <code>git branch</code>.</p>
</div>
<div class="paragraph">
<p>Finally build Cassandra using ant:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ant</pre>
</div>
</div>
<div class="paragraph">
<p>This may take a significant amount of time depending on whether
artifacts have to be downloaded and the number of classes that need to
be compiled.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">Hint</div>
<div class="paragraph">
<p>You can setup multiple working trees for different Cassandra versions
from the same repository using
<a href="https://git-scm.com/docs/git-worktree">git-worktree</a>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="setting-up-cassandra-in-intellij-idea"><a class="anchor" href="#setting-up-cassandra-in-intellij-idea"></a>Setting up Cassandra in IntelliJ IDEA</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://www.jetbrains.com/idea/">IntelliJ IDEA</a> by JetBrains is one of
the most popular IDEs for Cassandra and Java development in general. The
Community Edition is provided as a free download with all features
needed to get started developing Cassandra.</p>
</div>
<div class="sect2">
<h3 id="setup-cassandra-as-a-project-c-2-1-and-newer"><a class="anchor" href="#setup-cassandra-as-a-project-c-2-1-and-newer"></a>Setup Cassandra as a Project (C* 2.1 and newer)</h3>
<div class="paragraph">
<p>Since 2.1.5, there is a new ant target: <code>generate-idea-files</code>. Please
see our <a href="https://wiki.apache.org/cassandra/RunningCassandraInIDEA">wiki</a>
for instructions for older Cassandra versions.</p>
</div>
<div class="paragraph">
<p>Please clone and build Cassandra as described above and execute the
following steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Once Cassandra is built, generate the IDEA files using ant:</p>
</li>
</ol>
</div>
<div class="literalblock">
<div class="content">
<pre>ant generate-idea-files</pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Start IDEA</p>
</li>
<li>
<p>Open the IDEA project from the checked out Cassandra directory using
the menu item Open in IDEA&#8217;s File menu</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The project generated by the ant task <code>generate-idea-files</code> contains
nearly everything you need to debug Cassandra and execute unit tests.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="ulist">
<ul>
<li>
<p>Run/debug defaults for JUnit</p>
</li>
<li>
<p>Run/debug configuration for Cassandra daemon</p>
</li>
<li>
<p>License header for Java source files</p>
</li>
<li>
<p>Cassandra code style</p>
</li>
<li>
<p>Inspections</p>
</li>
</ul>
</div>
</blockquote>
</div>
<div class="verseblock">
<pre class="content"></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="opening-cassandra-in-apache-netbeans"><a class="anchor" href="#opening-cassandra-in-apache-netbeans"></a>Opening Cassandra in Apache NetBeans</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://netbeans.apache.org/">Apache NetBeans</a> is the elder of the open
sourced java IDEs, and can be used for Cassandra development. There is
no project setup or generation required to open Cassandra in NetBeans.</p>
</div>
<div class="sect2">
<h3 id="open-cassandra-as-a-project-c-4-0-and-newer"><a class="anchor" href="#open-cassandra-as-a-project-c-4-0-and-newer"></a>Open Cassandra as a Project (C* 4.0 and newer)</h3>
<div class="paragraph">
<p>Please clone and build Cassandra as described above and execute the
following steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Start Apache NetBeans</p>
</li>
<li>
<p>Open the NetBeans project from the <span class="title-ref">ide/</span> folder of the
checked out Cassandra directory using the menu item "Open Project…" in
NetBeans' File menu</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The project opened supports building, running, debugging, and profiling
Cassandra from within the IDE. These actions delegate to the ant
<span class="title-ref">build.xml</span> script.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="ulist">
<ul>
<li>
<p>Build/Run/Debug Project is available via the Run/Debug menus, or the
project context menu.</p>
</li>
<li>
<p>Profile Project is available via the Profile menu. In the opened
Profiler tab, click the green "Profile" button.</p>
</li>
<li>
<p>Cassandra&#8217;s code style is honored in
<span class="title-ref">ide/nbproject/project.properties</span></p>
</li>
</ul>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>The <span class="title-ref">JAVA8_HOME</span> system variable must be set in the
environment that NetBeans starts in for the Run/Debug/Profile ant
targets to execute.</p>
</div>
<div class="verseblock">
<pre class="content"></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="setting-up-cassandra-in-eclipse"><a class="anchor" href="#setting-up-cassandra-in-eclipse"></a>Setting up Cassandra in Eclipse</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Eclipse is a popular open source IDE that can be used for Cassandra
development. Various Eclipse environments are available from the
<a href="https://www.eclipse.org/downloads/eclipse-packages/">download page</a>. The
following guide was created with "Eclipse IDE for Java Developers".</p>
</div>
<div class="paragraph">
<p>These instructions were tested on Ubuntu 16.04 with Eclipse Neon (4.6)
using Cassandra 2.1, 2.2 and 3.x.</p>
</div>
<div class="sect2">
<h3 id="project-settings"><a class="anchor" href="#project-settings"></a>Project Settings</h3>
<div class="paragraph">
<p><strong>It is important that you generate the Eclipse files with Ant before
trying to set up the Eclipse project.</strong></p>
</div>
<div class="quoteblock">
<blockquote>
<div class="ulist">
<ul>
<li>
<p>Clone and build Cassandra as described above.</p>
</li>
<li>
<p>Run <code>ant generate-eclipse-files</code> to create the Eclipse settings.</p>
</li>
<li>
<p>Start Eclipse.</p>
</li>
<li>
<p>Select
<code>File&#8594;Import&#8594;Existing Projects into Workspace&#8594;Select git directory</code>.</p>
</li>
<li>
<p>Make sure "cassandra-trunk" is recognized and selected as a project
(assuming you checked the code out into the folder cassandra-trunk as
described above).</p>
</li>
<li>
<p>Confirm "Finish" to have your project imported.</p>
</li>
</ul>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>You should now be able to find the project as part of the "Package
Explorer" or "Project Explorer" without having Eclipse complain about
any errors after building the project automatically.</p>
</div>
</div>
<div class="sect2">
<h3 id="unit-tests"><a class="anchor" href="#unit-tests"></a>Unit Tests</h3>
<div class="paragraph">
<p>Unit tests can be run from Eclipse by simply right-clicking the class
file or method and selecting <code>Run As&#8594;JUnit Test</code>. Tests can be debugged
this way as well by defining breakpoints (double-click line number) and
selecting <code>Debug As&#8594;JUnit Test</code>.</p>
</div>
<div class="paragraph">
<p>Alternatively all unit tests can be run from the command line as
described in <code>testing</code></p>
</div>
</div>
<div class="sect2">
<h3 id="debugging-cassandra-using-eclipse"><a class="anchor" href="#debugging-cassandra-using-eclipse"></a>Debugging Cassandra Using Eclipse</h3>
<div class="paragraph">
<p>There are two ways how to start and debug a local Cassandra instance
with Eclipse. You can either start Cassandra just as you normally would
by using the <code>./bin/cassandra</code> script and connect to the JVM through
<a href="https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/introclientissues005.html">remotely</a>
from Eclipse or start Cassandra from Eclipse right away.</p>
</div>
<div class="sect3">
<h4 id="starting-cassandra-from-command-line"><a class="anchor" href="#starting-cassandra-from-command-line"></a>Starting Cassandra From Command Line</h4>
<div class="quoteblock">
<blockquote>
<div class="ulist">
<ul>
<li>
<p>Set environment variable to define remote debugging options for the
JVM:
<code>export JVM_EXTRA_OPTS="-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=1414"</code></p>
</li>
<li>
<p>Start Cassandra by executing the <code>./bin/cassandra</code></p>
</li>
</ul>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Afterwards you should be able to connect to the running Cassandra
process through the following steps:</p>
</div>
<div class="paragraph">
<p>From the menu, select <code>Run&#8594;Debug Configurations..</code></p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/eclipse_debug0.png" alt="image">
</div>
</div>
<div class="paragraph">
<p>Create new remote application</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/eclipse_debug1.png" alt="image">
</div>
</div>
<div class="paragraph">
<p>Configure connection settings by specifying a name and port 1414</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/eclipse_debug2.png" alt="image">
</div>
</div>
<div class="paragraph">
<p>Afterwards confirm "Debug" to connect to the JVM and start debugging
Cassandra!</p>
</div>
</div>
<div class="sect3">
<h4 id="starting-cassandra-from-eclipse"><a class="anchor" href="#starting-cassandra-from-eclipse"></a>Starting Cassandra From Eclipse</h4>
<div class="paragraph">
<p>Cassandra can also be started directly from Eclipse if you don&#8217;t want to
use the command line.</p>
</div>
<div class="paragraph">
<p>From the menu, select <code>Run&#8594;Run Configurations..</code></p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/eclipse_debug3.png" alt="image">
</div>
</div>
<div class="paragraph">
<p>Create new application</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/eclipse_debug4.png" alt="image">
</div>
</div>
<div class="paragraph">
<p>Specify name, project and main class
<code>org.apache.cassandra.service.CassandraDaemon</code></p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/eclipse_debug5.png" alt="image">
</div>
</div>
<div class="paragraph">
<p>Configure additional JVM specific parameters that will start Cassandra
with some of the settings created by the regular startup script. Change
heap related values as needed.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>-Xms1024M -Xmx1024M -Xmn220M -Xss256k -ea -XX:+UseThreadPriorities -XX:ThreadPriorityPolicy=42 -XX:+UseParNewGC -XX:+UseConcMarkSweepGC -XX:+CMSParallelRemarkEnabled -XX:+UseCondCardMark -javaagent:./lib/jamm-0.3.0.jar -Djava.net.preferIPv4Stack=true</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/eclipse_debug6.png" alt="image">
</div>
</div>
<div class="paragraph">
<p>Now just confirm "Debug" and you should see the output of Cassandra
starting up in the Eclipse console and should be able to set breakpoints
and start debugging!</p>
</div>
</div>
</div>
</div>
</div>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../../../_/js/site.js"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
