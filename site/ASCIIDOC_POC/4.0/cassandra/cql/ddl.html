<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Data Definition :: Apache Cassandra Documentation</title>
    <meta name="generator" content="Antora 2.3.1">
    <link rel="stylesheet" href="../../../../_/css/site.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../../..">Apache Cassandra Documentation&nbsp;&nbsp;&nbsp;<img src="../../../../_/img/cassandra_logo.png"></a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Download</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Latest</a>
            <a class="navbar-item" href="#">3.x</a>
            <a class="navbar-item" href="#">3.0</a>
            <a class="navbar-item" href="#">2.1</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Documentation</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Latest</a>
            <a class="navbar-item" href="#">3.x</a>
            <a class="navbar-item" href="#">3.0</a>
            <a class="navbar-item" href="#">2.1</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Community</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Developer Mailing List</a>
            <a class="navbar-item" href="#">User Mailing List</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Blog</a>
	</div>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="ASCIIDOC_POC" data-version="4.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../index.html">ASCIIDOC_POC</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../index.html">Cassandra Documentation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../glossary.html">Glossary</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../bugs.html">How to report bugs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../contactus.html">Contact us</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Cassandra</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../architecture/index.html">Architecture</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/overview.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/dynamo.html">Dynamo</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/storage_engine.html">Storage engine</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/guarantees.html">Guarantees</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../new/index.html">What&#8217;s new</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../getting_started/index.html">Getting Started</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../getting_started/installing.html">Installing Cassandra</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../getting_started/configuring.html">Configuring Cassandra</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../getting_started/querying.html">Inserting and querying</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../getting_started/drivers.html">Client drivers</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../getting_started/production.html">Production recommendations</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../data_modeling/index.html">Data Modeling</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#cql/index.adoc{">CQL</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="changes.html">Changes</a>
  </li>
  <li class="nav-item is-current-page" data-depth="3">
    <a class="nav-link" href="ddl.html">DDL</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="dml.html">DML</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="types.html">Data types</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="operators.html">Operators</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="definitions.html">Definitions</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="indexes.html">Secondary indexes</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="mvs.html">Materialized views</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="functions.html">Functions</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="json.html">JSON</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="security.html">Security</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="triggers.html">Triggers</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="appendices.html">Appendices</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuration/index.html">Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../operating/index.html">Operating</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../tools/index.html">Tools</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../development/index.html">Development</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../plugins/index.html">Plug-ins</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../troubleshooting/index.html">Troubleshooting</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../faq/index.html">FAQ</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">ASCIIDOC_POC</span>
    <span class="version">4.0</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">ASCIIDOC_POC</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../index.html">4.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../index.html">ASCIIDOC_POC</a></li>
    <li>Cassandra</li>
    <li>CQL</li>
    <li><a href="ddl.html">DDL</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="file:///Users/lorina.poland/CLONES/cassandra-examples/rst-to-asciidoc-tests/ASCIIDOC/modules/cassandra/pages/cql/ddl.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<article class="doc">
<h1 class="page">Data Definition</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>CQL stores data in <em>tables</em>, whose schema defines the layout of said
data in the table, and those tables are grouped in <em>keyspaces</em>. A
keyspace defines a number of options that applies to all the tables it
contains, most prominently of which is the
<code>replication strategy &lt;replication-strategy&gt;</code> used by the keyspace. It
is generally encouraged to use one keyspace by <em>application</em>, and thus
many cluster may define only one keyspace.</p>
</div>
<div class="paragraph">
<p>This section describes the statements used to create, modify, and remove
those keyspace and tables.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="common-definitions"><a class="anchor" href="#common-definitions"></a>Common definitions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The names of the keyspaces and tables are defined by the following
grammar:</p>
</div>
<div class="paragraph">
<p>keyspace_name: <span class="title-ref">name</span> table_name: <span class="[.title-ref">keyspace_name</span> '.' ] <span class="title-ref">name</span> name:
<span class="title-ref">unquoted_name</span> | <span class="title-ref">quoted_name</span> unquoted_name:
re('[a-zA-Z_0-9]\{1, 48}') quoted_name: '"' <span class="title-ref">unquoted_name</span>
'"'</p>
</div>
<div class="paragraph">
<p>Both keyspace and table name should be comprised of only alphanumeric
characters, cannot be empty and are limited in size to 48 characters
(that limit exists mostly to avoid filenames (which may include the
keyspace and table name) to go over the limits of certain file systems).
By default, keyspace and table names are case insensitive (<code>myTable</code> is
equivalent to <code>mytable</code>) but case sensitivity can be forced by using
double-quotes (<code>"myTable"</code> is different from <code>mytable</code>).</p>
</div>
<div class="paragraph">
<p>Further, a table is always part of a keyspace and a table name can be
provided fully-qualified by the keyspace it is part of. If is is not
fully-qualified, the table is assumed to be in the <em>current</em> keyspace
(see <code>USE statement
&lt;use-statement&gt;</code>).</p>
</div>
<div class="paragraph">
<p>Further, the valid names for columns is simply defined as:</p>
</div>
<div class="paragraph">
<p>column_name: <span class="title-ref">identifier</span></p>
</div>
<div class="paragraph">
<p>We also define the notion of statement options for use in the following
section:</p>
</div>
<div class="paragraph">
<p>options: <span class="title-ref">option</span> ( AND <span class="title-ref">option</span> )* option:
<span class="title-ref">identifier</span> '=' ( <span class="title-ref">identifier</span> |
<span class="title-ref">constant</span> | <span class="title-ref">map_literal</span> )</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="create-keyspace-statement"><a class="anchor" href="#create-keyspace-statement"></a>CREATE KEYSPACE</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A keyspace is created using a <code>CREATE KEYSPACE</code> statement:</p>
</div>
<div class="paragraph">
<p>create_keyspace_statement: CREATE KEYSPACE [ IF NOT EXISTS ]
<span class="title-ref">keyspace_name</span> WITH <span class="title-ref">options</span></p>
</div>
<div class="paragraph">
<p>For instance:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cql hljs" data-lang="cql">CREATE KEYSPACE excelsior
    WITH replication = {'class': 'SimpleStrategy', 'replication_factor' : 3};

CREATE KEYSPACE excalibur
    WITH replication = {'class': 'NetworkTopologyStrategy', 'DC1' : 1, 'DC2' : 3}
    AND durable_writes = false;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Attempting to create a keyspace that already exists will return an error
unless the <code>IF NOT EXISTS</code> option is used. If it is used, the statement
will be a no-op if the keyspace already exists.</p>
</div>
<div class="paragraph">
<p>The supported <code>options</code> are:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">name</th>
<th class="tableblock halign-left valign-top">kind</th>
<th class="tableblock halign-left valign-top">mandatory</th>
<th class="tableblock halign-left valign-top">default</th>
<th class="tableblock halign-left valign-top">description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>replication</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p><em>map</em></p>
</div>
</blockquote>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>yes</p>
</div>
</blockquote>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>The replication strategy and options to use for the keyspace (see
details below).</p>
</div>
</blockquote>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>durable_writes</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p><em>simple</em></p>
</div>
</blockquote>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>no</p>
</div>
</blockquote>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>true</p>
</div>
</blockquote>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Whether to use the commit log for updates on this keyspace (disable this
option at your own risk!).</p>
</div>
</blockquote>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The <code>replication</code> property is mandatory and must at least contains the
<code>'class'</code> sub-option which defines the
<code>replication strategy &lt;replication-strategy&gt;</code> class to use. The rest of
the sub-options depends on what replication strategy is used. By
default, Cassandra support the following <code>'class'</code>:</p>
</div>
<div class="sect2">
<h3 id="replication-strategy"><a class="anchor" href="#replication-strategy"></a><code>SimpleStrategy</code></h3>
<div class="paragraph">
<p>A simple strategy that defines a replication factor for data to be
spread across the entire cluster. This is generally not a wise choice
for production because it does not respect datacenter layouts and can
lead to wildly varying query latency. For a production ready strategy,
see <code>NetworkTopologyStrategy</code>. <code>SimpleStrategy</code> supports a single
mandatory argument:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">sub-option</th>
<th class="tableblock halign-left valign-top">type</th>
<th class="tableblock halign-left valign-top">since</th>
<th class="tableblock halign-left valign-top">description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>'replication_factor'</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>int</p>
</div>
</blockquote>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>all</p>
</div>
</blockquote>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>The number of replicas to store per range</p>
</div>
</blockquote>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="networktopologystrategy"><a class="anchor" href="#networktopologystrategy"></a><code>NetworkTopologyStrategy</code></h3>
<div class="paragraph">
<p>A production ready replication strategy that allows to set the
replication factor independently for each data-center. The rest of the
sub-options are key-value pairs where a key is a data-center name and
its value is the associated replication factor. Options:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">sub-option</th>
<th class="tableblock halign-left valign-top">type</th>
<th class="tableblock halign-left valign-top">since</th>
<th class="tableblock halign-left valign-top">description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>'&lt;datacenter&gt;'</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>int</p>
</div>
</blockquote>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>all</p>
</div>
</blockquote>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>The number of replicas to store per range in the provided datacenter.</p>
</div>
</blockquote>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>'replication_factor'</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>int</p>
</div>
</blockquote>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>4.0</p>
</div>
</blockquote>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>The number of replicas to use as a default per datacenter if not
specifically provided. Note that this always defers to existing
definitions or explicit datacenter settings. For example, to have three
replicas per datacenter, supply this with a value of 3.</p>
</div>
</blockquote>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Note that when <code>ALTER</code> ing keyspaces and supplying <code>replication_factor</code>,
auto-expansion will only <em>add</em> new datacenters for safety, it will not
alter existing datacenters or remove any even if they are no longer in
the cluster. If you want to remove datacenters while still supplying
<code>replication_factor</code>, explicitly zero out the datacenter you want to
have zero replicas.</p>
</div>
<div class="paragraph">
<p>An example of auto-expanding datacenters with two datacenters: <code>DC1</code> and
<code>DC2</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cql hljs" data-lang="cql">CREATE KEYSPACE excalibur
    WITH replication = {'class': 'NetworkTopologyStrategy', 'replication_factor' : 3}

DESCRIBE KEYSPACE excalibur
    CREATE KEYSPACE excalibur WITH replication = {'class': 'NetworkTopologyStrategy', 'DC1': '3', 'DC2': '3'} AND durable_writes = true;</code></pre>
</div>
</div>
<div class="paragraph">
<p>An example of auto-expanding and overriding a datacenter:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cql hljs" data-lang="cql">CREATE KEYSPACE excalibur
    WITH replication = {'class': 'NetworkTopologyStrategy', 'replication_factor' : 3, 'DC2': 2}

DESCRIBE KEYSPACE excalibur
    CREATE KEYSPACE excalibur WITH replication = {'class': 'NetworkTopologyStrategy', 'DC1': '3', 'DC2': '2'} AND durable_writes = true;</code></pre>
</div>
</div>
<div class="paragraph">
<p>An example that excludes a datacenter while using <code>replication_factor</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cql hljs" data-lang="cql">CREATE KEYSPACE excalibur
    WITH replication = {'class': 'NetworkTopologyStrategy', 'replication_factor' : 3, 'DC2': 0} ;

DESCRIBE KEYSPACE excalibur
    CREATE KEYSPACE excalibur WITH replication = {'class': 'NetworkTopologyStrategy', 'DC1': '3'} AND durable_writes = true;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If transient replication has been enabled, transient replicas can be
configured for both <code>SimpleStrategy</code> and <code>NetworkTopologyStrategy</code> by
defining replication factors in the format
<code>'&lt;total_replicas&gt;/&lt;transient_replicas&gt;'</code></p>
</div>
<div class="paragraph">
<p>For instance, this keyspace will have 3 replicas in DC1, 1 of which is
transient, and 5 replicas in DC2, 2 of which are transient:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cql hljs" data-lang="cql">CREATE KEYSPACE some_keysopace
           WITH replication = {'class': 'NetworkTopologyStrategy', 'DC1' : '3/1'', 'DC2' : '5/2'};</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="use-statement"><a class="anchor" href="#use-statement"></a>USE</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>USE</code> statement allows to change the <em>current</em> keyspace (for the
<em>connection</em> on which it is executed). A number of objects in CQL are
bound to a keyspace (tables, user-defined types, functions, &#8230;&#8203;) and the
current keyspace is the default keyspace used when those objects are
referred without a fully-qualified name (that is, without being prefixed
a keyspace name). A <code>USE</code> statement simply takes the keyspace to use as
current as argument:</p>
</div>
<div class="paragraph">
<p>use_statement: USE <span class="title-ref">keyspace_name</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="alter-keyspace-statement"><a class="anchor" href="#alter-keyspace-statement"></a>ALTER KEYSPACE</h2>
<div class="sectionbody">
<div class="paragraph">
<p>An <code>ALTER KEYSPACE</code> statement allows to modify the options of a
keyspace:</p>
</div>
<div class="paragraph">
<p>alter_keyspace_statement: ALTER KEYSPACE <span class="title-ref">keyspace_name</span>
WITH <span class="title-ref">options</span></p>
</div>
<div class="paragraph">
<p>For instance:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cql hljs" data-lang="cql">ALTER KEYSPACE Excelsior
    WITH replication = {'class': 'SimpleStrategy', 'replication_factor' : 4};</code></pre>
</div>
</div>
<div class="paragraph">
<p>The supported options are the same than for
<code>creating a keyspace &lt;create-keyspace-statement&gt;</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="drop-keyspace-statement"><a class="anchor" href="#drop-keyspace-statement"></a>DROP KEYSPACE</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Dropping a keyspace can be done using the <code>DROP KEYSPACE</code> statement:</p>
</div>
<div class="paragraph">
<p>drop_keyspace_statement: DROP KEYSPACE [ IF EXISTS ]
<span class="title-ref">keyspace_name</span></p>
</div>
<div class="paragraph">
<p>For instance:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cql hljs" data-lang="cql">DROP KEYSPACE Excelsior;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Dropping a keyspace results in the immediate, irreversible removal of
that keyspace, including all the tables, UTD and functions in it, and
all the data contained in those tables.</p>
</div>
<div class="paragraph">
<p>If the keyspace does not exists, the statement will return an error,
unless <code>IF EXISTS</code> is used in which case the operation is a no-op.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="create-table-statement"><a class="anchor" href="#create-table-statement"></a>CREATE TABLE</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Creating a new table uses the <code>CREATE TABLE</code> statement:</p>
</div>
<div class="paragraph">
<p>create_table_statement: CREATE TABLE [ IF NOT EXISTS ]
<span class="title-ref">table_name</span> : '(' : <span class="title-ref">column_definition</span> : ( ','
<span class="title-ref">column_definition</span> )* : <span class="'">primary_key</span> ')' ] : ')' <span class="WITH [.title-ref">table_options</span>
] column_definition: <span class="title-ref">column_name</span> <span class="title-ref">cql_type</span> [
STATIC ] [ PRIMARY KEY] primary_key: <span class="title-ref">partition_key</span> <span class="'">clustering_columns</span> ] partition_key:
<span class="title-ref">column_name</span> : | '(' <span class="title-ref">column_name</span> ( ','
<span class="title-ref">column_name</span> )* ')' clustering_columns:
<span class="title-ref">column_name</span> ( ',' <span class="title-ref">column_name</span> )*
table_options: COMPACT STORAGE <span class="AND [.title-ref">table_options</span> ] : |
CLUSTERING ORDER BY '(' <span class="title-ref">clustering_order</span> ')' <span class="AND
[.title-ref">table_options</span> ] : | <span class="title-ref">options</span>
clustering_order: <span class="title-ref">column_name</span> (ASC | DESC) ( ','
<span class="title-ref">column_name</span> (ASC | DESC) )*</p>
</div>
<div class="paragraph">
<p>For instance:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cql hljs" data-lang="cql">CREATE TABLE monkeySpecies (
    species text PRIMARY KEY,
    common_name text,
    population varint,
    average_size int
) WITH comment='Important biological records';

CREATE TABLE timeline (
    userid uuid,
    posted_month int,
    posted_time uuid,
    body text,
    posted_by text,
    PRIMARY KEY (userid, posted_month, posted_time)
) WITH compaction = { 'class' : 'LeveledCompactionStrategy' };

CREATE TABLE loads (
    machine inet,
    cpu int,
    mtime timeuuid,
    load float,
    PRIMARY KEY ((machine, cpu), mtime)
) WITH CLUSTERING ORDER BY (mtime DESC);</code></pre>
</div>
</div>
<div class="paragraph">
<p>A CQL table has a name and is composed of a set of <em>rows</em>. Creating a
table amounts to defining which <code>columns
&lt;column-definition&gt;</code> the rows will be composed, which of those columns
compose the <code>primary key &lt;primary-key&gt;</code>, as well as optional
<code>options &lt;create-table-options&gt;</code> for the table.</p>
</div>
<div class="paragraph">
<p>Attempting to create an already existing table will return an error
unless the <code>IF NOT EXISTS</code> directive is used. If it is used, the
statement will be a no-op if the table already exists.</p>
</div>
<div class="sect2">
<h3 id="column-definition"><a class="anchor" href="#column-definition"></a>Column definitions</h3>
<div class="paragraph">
<p>Every rows in a CQL table has a set of predefined columns defined at the
time of the table creation (or added later using an
<code>alter statement&lt;alter-table-statement&gt;</code>).</p>
</div>
<div class="paragraph">
<p>A <code>column_definition</code> is primarily comprised of the name of the column
defined and it&#8217;s <code>type &lt;data-types&gt;</code>, which restrict which values are
accepted for that column. Additionally, a column definition can have the
following modifiers:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>STATIC</code></dt>
<dd>
<p>it declares the column as being a <code>static column &lt;static-columns&gt;</code>.</p>
</dd>
<dt class="hdlist1"><code>PRIMARY KEY</code></dt>
<dd>
<p>it declares the column as being the sole component of the
<code>primary key &lt;primary-key&gt;</code> of the table.</p>
</dd>
</dl>
</div>
<div class="sect3">
<h4 id="static-columns"><a class="anchor" href="#static-columns"></a>Static columns</h4>
<div class="paragraph">
<p>Some columns can be declared as <code>STATIC</code> in a table definition. A column
that is static will be “shared” by all the rows belonging to the same
partition (having the same <code>partition key &lt;partition-key&gt;</code>). For
instance:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cql hljs" data-lang="cql">CREATE TABLE t (
    pk int,
    t int,
    v text,
    s text static,
    PRIMARY KEY (pk, t)
);

INSERT INTO t (pk, t, v, s) VALUES (0, 0, 'val0', 'static0');
INSERT INTO t (pk, t, v, s) VALUES (0, 1, 'val1', 'static1');

SELECT * FROM t;
   pk | t | v      | s
  ----+---+--------+-----------
   0  | 0 | 'val0' | 'static1'
   0  | 1 | 'val1' | 'static1'</code></pre>
</div>
</div>
<div class="paragraph">
<p>As can be seen, the <code>s</code> value is the same (<code>static1</code>) for both of the
row in the partition (the partition key in that example being <code>pk</code>, both
rows are in that same partition): the 2nd insertion has overridden the
value for <code>s</code>.</p>
</div>
<div class="paragraph">
<p>The use of static columns as the following restrictions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>tables with the <code>COMPACT STORAGE</code> option (see below) cannot use them.</p>
</li>
<li>
<p>a table without clustering columns cannot have static columns (in a
table without clustering columns, every partition has only one row, and
so every column is inherently static).</p>
</li>
<li>
<p>only non <code>PRIMARY KEY</code> columns can be static.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="primary-key"><a class="anchor" href="#primary-key"></a>The Primary key</h3>
<div class="paragraph">
<p>Within a table, a row is uniquely identified by its <code>PRIMARY KEY</code>, and
hence all table <strong>must</strong> define a PRIMARY KEY (and only one). A
<code>PRIMARY KEY</code> definition is composed of one or more of the columns
defined in the table. Syntactically, the primary key is defined the
keywords <code>PRIMARY KEY</code> followed by comma-separated list of the column
names composing it within parenthesis, but if the primary key has only
one column, one can alternatively follow that column definition by the
<code>PRIMARY KEY</code> keywords. The order of the columns in the primary key
definition matter.</p>
</div>
<div class="paragraph">
<p>A CQL primary key is composed of 2 parts:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the <code>partition key &lt;partition-key&gt;</code> part. It is the first component of
the primary key definition. It can be a single column or, using
additional parenthesis, can be multiple columns. A table always have at
least a partition key, the smallest possible table definition is:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cql hljs" data-lang="cql">CREATE TABLE t (k text PRIMARY KEY);</code></pre>
</div>
</div>
</li>
<li>
<p>the <code>clustering columns &lt;clustering-columns&gt;</code>. Those are the columns
after the first component of the primary key definition, and the order
of those columns define the <em>clustering order</em>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Some example of primary key definition are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>PRIMARY KEY (a)</code>: <code>a</code> is the partition key and there is no clustering
columns.</p>
</li>
<li>
<p><code>PRIMARY KEY (a, b, c)</code> : <code>a</code> is the partition key and <code>b</code> and <code>c</code> are
the clustering columns.</p>
</li>
<li>
<p><code>PRIMARY KEY ((a, b), c)</code> : <code>a</code> and <code>b</code> compose the partition key
(this is often called a <em>composite</em> partition key) and <code>c</code> is the
clustering column.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="partition-key"><a class="anchor" href="#partition-key"></a>The partition key</h4>
<div class="paragraph">
<p>Within a table, CQL defines the notion of a <em>partition</em>. A partition is
simply the set of rows that share the same value for their partition
key. Note that if the partition key is composed of multiple columns,
then rows belong to the same partition only they have the same values
for all those partition key column. So for instance, given the following
table definition and content:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cql hljs" data-lang="cql">CREATE TABLE t (
    a int,
    b int,
    c int,
    d int,
    PRIMARY KEY ((a, b), c, d)
);

SELECT * FROM t;
   a | b | c | d
  ---+---+---+---
   0 | 0 | 0 | 0    // row 1
   0 | 0 | 1 | 1    // row 2
   0 | 1 | 2 | 2    // row 3
   0 | 1 | 3 | 3    // row 4
   1 | 1 | 4 | 4    // row 5</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>row 1</code> and <code>row 2</code> are in the same partition, <code>row 3</code> and <code>row 4</code> are
also in the same partition (but a different one) and <code>row 5</code> is in yet
another partition.</p>
</div>
<div class="paragraph">
<p>Note that a table always has a partition key, and that if the table has
no <code>clustering columns
&lt;clustering-columns&gt;</code>, then every partition of that table is only
comprised of a single row (since the primary key uniquely identifies
rows and the primary key is equal to the partition key if there is no
clustering columns).</p>
</div>
<div class="paragraph">
<p>The most important property of partition is that all the rows belonging
to the same partition are guarantee to be stored on the same set of
replica nodes. In other words, the partition key of a table defines
which of the rows will be localized together in the Cluster, and it is
thus important to choose your partition key wisely so that rows that
needs to be fetch together are in the same partition (so that querying
those rows together require contacting a minimum of nodes).</p>
</div>
<div class="paragraph">
<p>Please note however that there is a flip-side to this guarantee: as all
rows sharing a partition key are guaranteed to be stored on the same set
of replica node, a partition key that groups too much data can create a
hotspot.</p>
</div>
<div class="paragraph">
<p>Another useful property of a partition is that when writing data, all
the updates belonging to a single partition are done <em>atomically</em> and in
<em>isolation</em>, which is not the case across partitions.</p>
</div>
<div class="paragraph">
<p>The proper choice of the partition key and clustering columns for a
table is probably one of the most important aspect of data modeling in
Cassandra, and it largely impact which queries can be performed, and how
efficiently they are.</p>
</div>
</div>
<div class="sect3">
<h4 id="clustering-columns"><a class="anchor" href="#clustering-columns"></a>The clustering columns</h4>
<div class="paragraph">
<p>The clustering columns of a table defines the clustering order for the
partition of that table. For a given <code>partition &lt;partition-key&gt;</code>, all
the rows are physically ordered inside Cassandra by that clustering
order. For instance, given:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cql hljs" data-lang="cql">CREATE TABLE t (
    a int,
    b int,
    c int,
    PRIMARY KEY (a, b, c)
);

SELECT * FROM t;
   a | b | c
  ---+---+---
   0 | 0 | 4     // row 1
   0 | 1 | 9     // row 2
   0 | 2 | 2     // row 3
   0 | 3 | 3     // row 4</code></pre>
</div>
</div>
<div class="paragraph">
<p>then the rows (which all belong to the same partition) are all stored
internally in the order of the values of their <code>b</code> column (the order
they are displayed above). So where the partition key of the table
allows to group rows on the same replica set, the clustering columns
controls how those rows are stored on the replica. That sorting allows
the retrieval of a range of rows within a partition (for instance, in
the example above, <code>SELECT * FROM t WHERE a = 0 AND b &gt; 1 and b &#8656; 3</code>)
to be very efficient.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="create-table-options"><a class="anchor" href="#create-table-options"></a>Table options</h3>
<div class="paragraph">
<p>A CQL table has a number of options that can be set at creation (and,
for most of them, <code>altered
&lt;alter-table-statement&gt;</code> later). These options are specified after the
<code>WITH</code> keyword.</p>
</div>
<div class="paragraph">
<p>Amongst those options, two important ones cannot be changed after
creation and influence which queries can be done against the table: the
<code>COMPACT STORAGE</code> option and the <code>CLUSTERING ORDER</code> option. Those, as
well as the other options of a table are described in the following
sections.</p>
</div>
<div class="sect3">
<h4 id="compact-tables"><a class="anchor" href="#compact-tables"></a>Compact tables</h4>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="title">Warning</div>
<div class="paragraph">
<p>Since Cassandra 3.0, compact tables have the exact same layout
internally than non compact ones (for the same schema obviously), and
declaring a table compact <strong>only</strong> creates artificial limitations on the
table definition and usage. It only exists for historical reason and is
preserved for backward compatibility And as <code>COMPACT STORAGE</code> cannot, as
of Cassandra , be removed, it is strongly discouraged to create new
table with the <code>COMPACT STORAGE</code> option.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>A <em>compact</em> table is one defined with the <code>COMPACT STORAGE</code> option.
This option is only maintained for backward compatibility for
definitions created before CQL version 3 and shouldn&#8217;t be used for new
tables. Declaring a table with this option creates limitations for the
table which are largely arbitrary (and exists for historical reasons).
Amongst those limitation:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a compact table cannot use collections nor static columns.</p>
</li>
<li>
<p>if a compact table has at least one clustering column, then it must
have <em>exactly</em> one column outside of the primary key ones. This imply
you cannot add or remove columns after creation in particular.</p>
</li>
<li>
<p>a compact table is limited in the indexes it can create, and no
materialized view can be created on it.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="clustering-order"><a class="anchor" href="#clustering-order"></a>Reversing the clustering order</h4>
<div class="paragraph">
<p>The clustering order of a table is defined by the
<code>clustering columns &lt;clustering-columns&gt;</code> of that table. By default,
that ordering is based on natural order of those clustering order, but
the <code>CLUSTERING ORDER</code> allows to change that clustering order to use the
<em>reverse</em> natural order for some (potentially all) of the columns.</p>
</div>
<div class="paragraph">
<p>The <code>CLUSTERING ORDER</code> option takes the comma-separated list of the
clustering column, each with a <code>ASC</code> (for <em>ascendant</em>, e.g. the natural
order) or <code>DESC</code> (for <em>descendant</em>, e.g. the reverse natural order).
Note in particular that the default (if the <code>CLUSTERING ORDER</code> option is
not used) is strictly equivalent to using the option with all clustering
columns using the <code>ASC</code> modifier.</p>
</div>
<div class="paragraph">
<p>Note that this option is basically a hint for the storage engine to
change the order in which it stores the row but it has 3 visible
consequences:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>it limits which <code>ORDER BY</code> clause are allowed for</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>selects &lt;select-statement&gt;</code> on that table. You can only</dt>
<dd>
<p>order results by the clustering order or the reverse clustering order.
Meaning that if a table has 2 clustering column <code>a</code> and <code>b</code> and you
defined <code>WITH CLUSTERING ORDER (a DESC, b ASC)</code>, then in queries you
will be allowed to use <code>ORDER BY (a DESC, b ASC)</code> and (reverse
clustering order) <code>ORDER BY (a ASC, b DESC)</code> but <strong>not</strong>
<code>ORDER BY (a ASC, b ASC)</code> (nor <code>ORDER BY (a DESC, b DESC)</code>).</p>
</dd>
</dl>
</div>
</li>
<li>
<p>it also change the default order of results when queried (if no</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>ORDER BY</code> is provided). Results are always returned</dt>
<dd>
<p>in clustering order (within a partition).</p>
</dd>
</dl>
</div>
</li>
<li>
<p>it has a small performance impact on some queries as queries in</p>
<div class="dlist">
<dl>
<dt class="hdlist1">reverse clustering order are slower than the one in</dt>
<dd>
<p>forward clustering order. In practice, this means that if you plan on
querying mostly in the reverse natural order of your columns (which is
common with time series for instance where you often want data from
the newest to the oldest), it is an optimization to declare a
descending clustering order.</p>
</dd>
</dl>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="create-table-general-options"><a class="anchor" href="#create-table-general-options"></a>Other table options</h4>
<div class="paragraph">
<p>review (misses cdc if nothing else) and link to proper categories when
appropriate (compaction for instance)</p>
</div>
<div class="paragraph">
<p>A table supports the following options:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 9%;">
<col style="width: 11%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">option</th>
<th class="tableblock halign-left valign-top">kind</th>
<th class="tableblock halign-left valign-top">default</th>
<th class="tableblock halign-left valign-top">description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>comment</code> <code>speculative_retry</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>simple</em> <em>simple</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none 99PERCENTILE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A
free-form, human-readable comment. <code>Speculative retry options
&lt;speculative-retry-options&gt;</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cdc</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Create a Change Data Capture (CDC) log on the
table.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>additional_write_policy</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>simple</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">99PERCENTILE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Speculative retry options
&lt;speculative-retry-options&gt;</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>gc_grace_seconds</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>simple</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">864000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Time to wait before garbage
collecting tombstones (deletion markers).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bloom_filter_fp_chance</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>simple</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.00075</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The target probability of
false positive of the sstable bloom filters. Said bloom filters will be
sized to provide the provided probability (thus lowering this value
impact the size of bloom filters in-memory and on-disk)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>default_time_to_live</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>simple</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The default expiration time
(“TTL”) in seconds for a table.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>compaction</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>map</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>see below</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Compaction options &lt;cql-compaction-options&gt;</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>compression</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>map</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>see below</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Compression options &lt;cql-compression-options&gt;</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>caching</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>map</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>see below</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Caching options &lt;cql-caching-options&gt;</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>memtable_flush_period_in_ms</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>simple</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Time (in ms) before
Cassandra flushes memtables to disk.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>read_repair</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>simple</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BLOCKING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets read repair behavior (see
below)</p></td>
</tr>
</tbody>
</table>
<div class="sect4">
<h5 id="speculative-retry-options"><a class="anchor" href="#speculative-retry-options"></a>Speculative retry options</h5>
<div class="paragraph">
<p>By default, Cassandra read coordinators only query as many replicas as
necessary to satisfy consistency levels: one for consistency level
<code>ONE</code>, a quorum for <code>QUORUM</code>, and so on. <code>speculative_retry</code> determines
when coordinators may query additional replicas, which is useful when
replicas are slow or unresponsive. Speculative retries are used to
reduce the latency. The speculative_retry option may be used to
configure rapid read protection with which a coordinator sends more
requests than needed to satisfy the Consistency level.</p>
</div>
<div class="paragraph">
<p>Pre-4.0 speculative Retry Policy takes a single string as a parameter,
this can be <code>NONE</code>, <code>ALWAYS</code>, <code>99PERCENTILE</code> (PERCENTILE), <code>50MS</code>
(CUSTOM).</p>
</div>
<div class="paragraph">
<p>Examples of setting speculative retry are:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cql hljs" data-lang="cql">ALTER TABLE users WITH speculative_retry = '10ms';</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or,</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cql hljs" data-lang="cql">ALTER TABLE users WITH speculative_retry = '99PERCENTILE';</code></pre>
</div>
</div>
<div class="paragraph">
<p>The problem with these settings is when a single host goes into an
unavailable state this drags up the percentiles. This means if we are
set to use <code>p99</code> alone, we might not speculate when we intended to to
because the value at the specified percentile has gone so high. As a fix
4.0 adds support for hybrid <code>MIN()</code>, <code>MAX()</code> speculative retry policies
(<a href="https://issues.apache.org/jira/browse/CASSANDRA-14293">CASSANDRA-14293</a>).
This means if the normal <code>p99</code> for the table is &lt;50ms, we will still
speculate at this value and not drag the tail latencies up&#8230;&#8203; but if the
<code>p99th</code> goes above what we know we should never exceed we use that
instead.</p>
</div>
<div class="paragraph">
<p>In 4.0 the values (case-insensitive) discussed in the following table
are supported:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Format</th>
<th class="tableblock halign-left valign-top">Example</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p><code>XPERCENTILE</code></p>
</div>
</blockquote>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">90.5PERCENTILE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Coordinators record average per-table response times
for all replicas. If a replica takes longer than <code>X</code> percent of this
table&#8217;s average response time, the coordinator queries an additional
replica. <code>X</code> must be between 0 and 100.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p><code>XP</code></p>
</div>
</blockquote>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">90.5P</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Synonym for <code>XPERCENTILE</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p><code>Yms</code></p>
</div>
</blockquote>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">25ms</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If a replica takes more than <code>Y</code> milliseconds to respond, the
coordinator queries an additional replica.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p><code>MIN(XPERCENTILE,YMS)</code></p>
</div>
</blockquote>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MIN(99PERCENTILE,35MS)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A hybrid policy that will use either the
specified percentile or fixed milliseconds depending on which value is
lower at the time of calculation. Parameters are <code>XPERCENTILE</code>, <code>XP</code>, or
<code>Yms</code>. This is helpful to help protect against a single slow instance;
in the happy case the 99th percentile is normally lower than the
specified fixed value however, a slow host may skew the percentile very
high meaning the slower the cluster gets, the higher the value of the
percentile, and the higher the calculated time used to determine if we
should speculate or not. This allows us to set an upper limit that we
want to speculate at, but avoid skewing the tail latencies by
speculating at the lower value when the percentile is less than the
specified fixed upper bound.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p><code>MAX(XPERCENTILE,YMS)</code></p>
</div>
<div class="paragraph">
<p><code>ALWAYS</code> <code>NEVER</code></p>
</div>
</blockquote>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MAX(90.5P,25ms)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A hybrid policy that will use either the specified
percentile or fixed milliseconds depending on which value is higher at
the time of calculation. Coordinators always query all replicas.
Coordinators never query additional replicas.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>As of version 4.0 speculative retry allows more friendly params
(<a href="https://issues.apache.org/jira/browse/CASSANDRA-13876">CASSANDRA-13876</a>).
The <code>speculative_retry</code> is more flexible with case. As an example a
value does not have to be <code>NONE</code>, and the following are supported
alternatives.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cql hljs" data-lang="cql">alter table users WITH speculative_retry = 'none';
alter table users WITH speculative_retry = 'None';</code></pre>
</div>
</div>
<div class="paragraph">
<p>The text component is case insensitive and for <code>nPERCENTILE</code> version 4.0
allows <code>nP</code>, for instance <code>99p</code>. In a hybrid value for speculative
retry, one of the two values must be a fixed millisecond value and the
other a percentile value.</p>
</div>
<div class="paragraph">
<p>Some examples:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cql hljs" data-lang="cql">min(99percentile,50ms)
max(99p,50MS)
MAX(99P,50ms)
MIN(99.9PERCENTILE,50ms)
max(90percentile,100MS)
MAX(100.0PERCENTILE,60ms)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Two values of the same kind cannot be specified such as
<code>min(90percentile,99percentile)</code> as it wouldn’t be a hybrid value. This
setting does not affect reads with consistency level <code>ALL</code> because they
already query all replicas.</p>
</div>
<div class="paragraph">
<p>Note that frequently reading from additional replicas can hurt cluster
performance. When in doubt, keep the default <code>99PERCENTILE</code>.</p>
</div>
<div class="paragraph">
<p><code>additional_write_policy</code> specifies the threshold at which a cheap
quorum write will be upgraded to include transient replicas.</p>
</div>
</div>
<div class="sect4">
<h5 id="cql-compaction-options"><a class="anchor" href="#cql-compaction-options"></a>Compaction options</h5>
<div class="paragraph">
<p>The <code>compaction</code> options must at least define the <code>'class'</code> sub-option,
that defines the compaction strategy class to use. The supported class
are <code>'SizeTieredCompactionStrategy'</code> (<code>STCS &lt;STCS&gt;</code>),
<code>'LeveledCompactionStrategy'</code> (<code>LCS &lt;LCS&gt;</code>) and
<code>'TimeWindowCompactionStrategy'</code> (<code>TWCS &lt;TWCS&gt;</code>) (the
<code>'DateTieredCompactionStrategy'</code> is also supported but is deprecated and
<code>'TimeWindowCompactionStrategy'</code> should be preferred instead). The
default is <code>'SizeTieredCompactionStrategy'</code>. Custom strategy can be
provided by specifying the full class name as a <code>string constant
&lt;constants&gt;</code>.</p>
</div>
<div class="paragraph">
<p>All default strategies support a number of
<code>common options &lt;compaction-options&gt;</code>, as well as options specific to
the strategy chosen (see the section corresponding to your strategy for
details: <code>STCS &lt;stcs-options&gt;</code>, <code>LCS
&lt;lcs-options&gt;</code> and <code>TWCS &lt;TWCS&gt;</code>).</p>
</div>
</div>
<div class="sect4">
<h5 id="cql-compression-options"><a class="anchor" href="#cql-compression-options"></a>Compression options</h5>
<div class="paragraph">
<p>The <code>compression</code> options define if and how the sstables of the table
are compressed. Compression is configured on a per-table basis as an
optional argument to <code>CREATE TABLE</code> or <code>ALTER TABLE</code>. The following
sub-options are available:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Option</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p><code>class</code></p>
</div>
</blockquote>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>LZ4Compressor</p>
</div>
</blockquote>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>The compression algorithm to use. Default compressor are: LZ4Compressor,
SnappyCompressor, DeflateCompressor and ZstdCompressor. Use
<code>'enabled' : false</code> to disable compression. Custom compressor can be
provided by specifying the full class name as a “string
constant”:#constants.</p>
</div>
</blockquote>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p><code>enabled</code></p>
</div>
</blockquote>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>true</p>
</div>
</blockquote>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Enable/disable sstable compression. If the <code>enabled</code> option is set to
<code>false</code> no other options must be specified.</p>
</div>
</blockquote>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p><code>chunk_length_in_kb</code></p>
</div>
</blockquote>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>64</p>
</div>
</blockquote>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>On disk SSTables are compressed by block (to allow random reads). This
defines the size (in KB) of said block. Bigger values may improve the
compression rate, but increases the minimum size of data to be read from
disk for a read. The default value is an optimal value for compressing
tables. Chunk length must be a power of 2 because so is assumed so when
computing the chunk number from an uncompressed file offset. Block size
may be adjusted based on read/write access patterns such as:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>How much data is typically requested at once</p>
</li>
<li>
<p>Average size of rows in the table</p>
</li>
</ul>
</div>
</blockquote>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p><code>crc_check_chance</code></p>
</div>
</blockquote>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>1.0</p>
</div>
</blockquote>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Determines how likely Cassandra is to verify the checksum on each
compression chunk during reads.</p>
</div>
</blockquote>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p><code>compression_level</code></p>
</div>
</blockquote>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>3</p>
</div>
</blockquote>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Compression level. It is only applicable for <code>ZstdCompressor</code> and
accepts values between <code>-131072</code> and <code>22</code>.</p>
</div>
</blockquote>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For instance, to create a table with LZ4Compressor and a
chunk_lenth_in_kb of 4KB:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cql hljs" data-lang="cql">CREATE TABLE simple (
   id int,
   key text,
   value text,
   PRIMARY KEY (key, value)
) with compression = {'class': 'LZ4Compressor', 'chunk_length_in_kb': 4};</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="cql-caching-options"><a class="anchor" href="#cql-caching-options"></a>Caching options</h5>
<div class="paragraph">
<p>Caching optimizes the use of cache memory of a table. The cached data is
weighed by size and access frequency. The <code>caching</code> options allows to
configure both the <em>key cache</em> and the <em>row cache</em> for the table. The
following sub-options are available:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Option</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p><code>keys</code></p>
</div>
</blockquote>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>ALL</p>
</div>
</blockquote>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Whether to cache keys (“key cache”) for this table. Valid values are:
<code>ALL</code> and <code>NONE</code>.</p>
</div>
</blockquote>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p><code>rows_per_partition</code></p>
</div>
</blockquote>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>NONE</p>
</div>
</blockquote>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>The amount of rows to cache per partition (“row cache”). If an integer
<code>n</code> is specified, the first <code>n</code> queried rows of a partition will be
cached. Other possible options are <code>ALL</code>, to cache all rows of a queried
partition, or <code>NONE</code> to disable row caching.</p>
</div>
</blockquote>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For instance, to create a table with both a key cache and 10 rows per
partition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cql hljs" data-lang="cql">CREATE TABLE simple (
id int,
key text,
value text,
PRIMARY KEY (key, value)
) WITH caching = {'keys': 'ALL', 'rows_per_partition': 10};</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="read-repair-options"><a class="anchor" href="#read-repair-options"></a>Read Repair options</h5>
<div class="paragraph">
<p>The <code>read_repair</code> options configures the read repair behavior to allow
tuning for various performance and consistency behaviors. Two
consistency properties are affected by read repair behavior.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Monotonic Quorum Reads: Provided by <code>BLOCKING</code>. Monotonic quorum reads
prevents reads from appearing to go back in time in some circumstances.
When monotonic quorum reads are not provided and a write fails to reach
a quorum of replicas, it may be visible in one read, and then disappear
in a subsequent read.</p>
</li>
<li>
<p>Write Atomicity: Provided by <code>NONE</code>. Write atomicity prevents reads
from returning partially applied writes. Cassandra attempts to provide
partition level write atomicity, but since only the data covered by a
SELECT statement is repaired by a read repair, read repair can break
write atomicity when data is read at a more granular level than it is
written. For example read repair can break write atomicity if you write
multiple rows to a clustered partition in a batch, but then select a
single row by specifying the clustering column in a SELECT statement.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The available read repair settings are:</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="blocking"><a class="anchor" href="#blocking"></a>Blocking</h4>
<div class="paragraph">
<p>The default setting. When <code>read_repair</code> is set to <code>BLOCKING</code>, and a read
repair is triggered, the read will block on writes sent to other
replicas until the CL is reached by the writes. Provides monotonic
quorum reads, but not partition level write atomicity</p>
</div>
</div>
<div class="sect3">
<h4 id="none"><a class="anchor" href="#none"></a>None</h4>
<div class="paragraph">
<p>When <code>read_repair</code> is set to <code>NONE</code>, the coordinator will reconcile any
differences between replicas, but will not attempt to repair them.
Provides partition level write atomicity, but not monotonic quorum
reads.</p>
</div>
<div class="sect4">
<h5 id="other-considerations"><a class="anchor" href="#other-considerations"></a>Other considerations:</h5>
<div class="ulist">
<ul>
<li>
<p>Adding new columns (see <code>ALTER TABLE</code> below) is a constant time
operation. There is thus no need to try to anticipate future usage when
creating a table.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="alter-table-statement"><a class="anchor" href="#alter-table-statement"></a>ALTER TABLE</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Altering an existing table uses the <code>ALTER TABLE</code> statement:</p>
</div>
<div class="paragraph">
<p>alter_table_statement: ALTER TABLE <span class="title-ref">table_name</span>
<span class="title-ref">alter_table_instruction</span> alter_table_instruction: ADD
<span class="title-ref">column_name</span> <span class="title-ref">cql_type</span> ( ','
<span class="title-ref">column_name</span> <span class="title-ref">cql_type</span> )* : | DROP
<span class="title-ref">column_name</span> ( <span class="title-ref">column_name</span> )* : | WITH
<span class="title-ref">options</span></p>
</div>
<div class="paragraph">
<p>For instance:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cql hljs" data-lang="cql">ALTER TABLE addamsFamily ADD gravesite varchar;

ALTER TABLE addamsFamily
       WITH comment = 'A most excellent and useful table';</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>ALTER TABLE</code> statement can:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Add new column(s) to the table (through the <code>ADD</code> instruction). Note
that the primary key of a table cannot be changed and thus newly added
column will, by extension, never be part of the primary key. Also note
that <code>compact
tables &lt;compact-tables&gt;</code> have restrictions regarding column addition.
Note that this is constant (in the amount of data the cluster contains)
time operation.</p>
</li>
<li>
<p>Remove column(s) from the table. This drops both the column and all
its content, but note that while the column becomes immediately
unavailable, its content is only removed lazily during compaction.
Please also see the warnings below. Due to lazy removal, the altering
itself is a constant (in the amount of data removed or contained in the
cluster) time operation.</p>
</li>
<li>
<p>Change some of the table options (through the <code>WITH</code> instruction). The
<code>supported options
&lt;create-table-options&gt;</code> are the same that when creating a table (outside
of <code>COMPACT STORAGE</code> and <code>CLUSTERING ORDER</code> that cannot be changed after
creation). Note that setting any <code>compaction</code> sub-options has the effect
of erasing all previous <code>compaction</code> options, so you need to re-specify
all the sub-options if you want to keep them. The same note applies to
the set of <code>compression</code> sub-options.</p>
</li>
</ul>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="title">Warning</div>
<div class="paragraph">
<p>Dropping a column assumes that the timestamps used for the value of this
column are "real" timestamp in microseconds. Using "real" timestamps in
microseconds is the default is and is <strong>strongly</strong> recommended but as
Cassandra allows the client to provide any timestamp on any table it is
theoretically possible to use another convention. Please be aware that
if you do so, dropping a column will not work correctly.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="title">Warning</div>
<div class="paragraph">
<p>Once a column is dropped, it is allowed to re-add a column with the same
name than the dropped one <strong>unless</strong> the type of the dropped column was a
(non-frozen) column (due to an internal technical limitation).</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="drop-table-statement"><a class="anchor" href="#drop-table-statement"></a>DROP TABLE</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Dropping a table uses the <code>DROP TABLE</code> statement:</p>
</div>
<div class="paragraph">
<p>drop_table_statement: DROP TABLE [ IF EXISTS ] <span class="title-ref">table_name</span></p>
</div>
<div class="paragraph">
<p>Dropping a table results in the immediate, irreversible removal of the
table, including all data it contains.</p>
</div>
<div class="paragraph">
<p>If the table does not exist, the statement will return an error, unless
<code>IF EXISTS</code> is used in which case the operation is a no-op.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="truncate-statement"><a class="anchor" href="#truncate-statement"></a>TRUNCATE</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A table can be truncated using the <code>TRUNCATE</code> statement:</p>
</div>
<div class="paragraph">
<p>truncate_statement: TRUNCATE [ TABLE ] <span class="title-ref">table_name</span></p>
</div>
<div class="paragraph">
<p>Note that <code>TRUNCATE TABLE foo</code> is allowed for consistency with other DDL
statements but tables are the only object that can be truncated
currently and so the <code>TABLE</code> keyword can be omitted.</p>
</div>
<div class="paragraph">
<p>Truncating a table permanently removes all existing data from the table, but without removing the table itself.</p>
</div>
</div>
</div>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../../../_/js/site.js"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
