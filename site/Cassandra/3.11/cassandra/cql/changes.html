<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Changes :: Apache Cassandra Documentation</title>
    <link rel="canonical" href="file:///Users/lorina.poland/docs-site/build/site/Cassandra/4.0/Cassandra/3.11/cassandra/cql/changes.html">
    <meta name="generator" content="Antora 2.3.1">
    <link rel="stylesheet" href="../../../../_/css/site.css">
<link rel="stylesheet" href="../../../../_/css/search.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="file:///Users/lorina.poland/docs-site/build/site/Cassandra/4.0">&nbsp;&nbsp;&nbsp;<img src="../../../../_/img/cassandra_logo.png"></a>
        <div class="navbar-item">
          <input id="search-input" type="text" placeholder="Search docs">
        </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://cassandra.apache.org">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="https://cassandra.apache.org/download/">Download</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://www.apache.org/dyn/closer.lua/cassandra/3.11.6/apache-cassandra-3.11.6-bin.tar.gz">Latest</a>
            <a class="navbar-item" href="https://www.apache.org/dyn/closer.lua/cassandra/3.11.6/apache-cassandra-3.11.6-bin.tar.gz">3.x</a>
            <a class="navbar-item" href="https://www.apache.org/dyn/closer.lua/cassandra/3.0.20/apache-cassandra-3.0.20-bin.tar.gz">3.0</a>
            <a class="navbar-item" href="https://www.apache.org/dyn/closer.lua/cassandra/2.1.21/apache-cassandra-2.1.21-bin.tar.gz">2.1</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="https://cassandra.apache.org/doc/">Documentation</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://cassandra.apache.org/doc/">Latest</a>
            <a class="navbar-item" href="">3.x</a>
            <a class="navbar-item" href="https://cassandra.apache.org/doc/old/CQL-3.0.html">3.0</a>
            <a class="navbar-item" href="https://cassandra.apache.org/doc/old/CQL-2.1.html">2.1</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="https://cassandra.apache.org/community/">Community</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://lists.apache.org/list.html?dev@cassandra.apache.org">Developer Mailing List</a>
            <a class="navbar-item" href="https://lists.apache.org/list.html?user@cassandra.apache.org">User Mailing List</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="https://cassandra.apache.org/blog/">Blog</a>
	</div>
          </span>
        </div>
      </div>
    </div>
  </nav>
  <nav class="navbar2">
    <div class="navbar2-brand">
      <a class="navbar2-item href="https://asf.org"><img src="../../../../_/img/asf_feather.png" height="70%">&nbsp;&nbsp;&nbsp;Apache Software Foundation / Apache Cassandra</a>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="Cassandra" data-version="3.11">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../index.html">Cassandra</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../index.html">Main</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../glossary.html">Glossary</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../bugs.html">How to report bugs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../contactus.html">Contact us</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Cassandra</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../getting_started/index.html">Getting Started</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../getting_started/installing.html">Installing Cassandra</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../getting_started/configuring.html">Configuring Cassandra</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../getting_started/querying.html">Inserting and querying</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../getting_started/drivers.html">Client drivers</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../getting_started/production.html">Production recommendations</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../new/index.html">What&#8217;s new</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../new/java11.html">Support for Java 11</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../new/virtualtables.html">Virtual tables</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../new/auditlogging.html">Audit logging</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../new/fqllogging.html">Full query logging</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../new/messaging.html">Improved internode Messaging</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../new/streaming.html">Improved streaming</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../new/transientreplication.html">Transient replication</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../architecture/index.html">Architecture</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/overview.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/dynamo.html">Dynamo</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/storage_engine.html">Storage engine</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/guarantees.html">Guarantees</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../data_modeling/index.html">Data modeling</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../data_modeling/intro.html">Introduction</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../data_modeling/data_modeling_conceptual.html">Conceptual data modeling</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../data_modeling/data_modeling_rdbms.html">RDBMS design</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../data_modeling/data_modeling_queries.html">Defining application queries</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../data_modeling/data_modeling_logical.html">Logical data modeling</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../data_modeling/data_modeling_physical.html">Physical data modeling</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../data_modeling/data_modeling_refining.html">Evaluating and refining data models</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../data_modeling/data_modeling_schema.html">Defining database schema</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../data_modeling/data_modeling_tools.html">Cassandra data modeling tools</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#cql/index.adoc{">CQL</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="definitions.html">Definitions</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="types.html">Data types</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="ddl.html">DDL</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="dml.html">DML</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="indexes.html">Secondary indexes</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="mvs.html">Materialized views</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="security.html">Security</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="functions.html">Functions</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="operators.html">Operators</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="json.html">JSON</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="triggers.html">Triggers</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="appendices.html">Appendices</a>
  </li>
  <li class="nav-item is-current-page" data-depth="3">
    <a class="nav-link" href="changes.html">Changes</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../configuration/index.html">Configuration</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../configuration/cass_yaml_file.html">cassandra.yaml</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../configuration/cass_rackdc_file.html">cassandra-rackdc.properties</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../configuration/cass_env_sh_file.html">cassandra-env.sh</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../configuration/cass_topo_file.html">cassandra-topologies.properties</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../configuration/cass_cl_archive_file.html">commitlog-archiving.properties</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../configuration/cass_logback_xml_file.html">logback.xml</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../configuration/cass_jvm_options_file.html">jvm-* files</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../operating/index.html">Operating</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../operating/snitch.html">Snitches</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../operating/topo_changes.html">Topology changes</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../operating/repair.html">Repair</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../operating/read_repair.html">Read repair</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../operating/hints.html">Hints</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../operating/bloom_filters.html">Bloom filters</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../operating/compression.html">Compression</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../operating/cdc.html">Change Data Capture (CDC)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../operating/backups.html">Backups</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../operating/bulk_loading.html">Bulk loading</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../operating/metrics.html">Metrics</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../operating/security.html">Security</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../operating/hardware.html">Hardware</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../operating/audit_logging.html">Audit logging</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../operating/compaction/index.html">Compaction</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../tools/index.html">Tools</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../tools/cqlsh.html">cqlsh: the CQL shell</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../tools/nodetool/nodetool.html">nodetool</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../tools/sstable/index.html">SSTable tools</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../tools/cassandra_stress.html">cassandra-stress</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../troubleshooting/index.html">Troubleshooting</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../troubleshooting/finding_nodes.html">Finding misbehaving nodes</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../troubleshooting/reading_logs.html">Reading Cassandra logs</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../troubleshooting/use_nodetool.html">Using nodetool</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../troubleshooting/use_tools.html">Using external tools to deep-dive</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../development/index.html">Development</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../development/gettingstarted.html">Getting started</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../development/ide.html">Building and IDE integration</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../development/testing.html">Testing</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../development/patches.html">Contributing code changes</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../development/code_style.html">Code style</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../development/how_to_review.html">Review checklist</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../development/how_to_commit.html">How to commit</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../development/documentation.html">Working on documentation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../development/ci.html">Jenkins CI environment</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../development/dependencies.html">Dependency management</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../development/release_process.html">Release process</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../faq/index.html">FAQ</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../plugins/index.html">Plug-ins</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Cassandra</span>
    <span class="version">3.11</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Cassandra</span>
      <ul class="versions">
        <li class="version">
          <a href="../../../4.0/index.html">4.0-rc.5</a>
        </li>
        <li class="version is-current is-latest">
          <a href="../../index.html">3.11</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li>Cassandra</li>
    <li>CQL</li>
    <li><a href="changes.html">Changes</a></li>
  </ul>
</nav>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">3.11</button>
  <div class="version-menu">
    <a class="version" href="../../../4.0/cassandra/cql/changes.html">4.0-rc.5</a>
    <a class="version is-current" href="changes.html">3.11</a>
  </div>
</div>
  <div class="edit-this-page"><a href="file:///Users/lorina.poland/CLONES/cassandra-examples/rst-to-asciidoc-tests/ASCIIDOC/modules/cassandra/pages/cql/changes.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<article class="doc">
<h1 class="page">Changes</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The following describes the changes in each version of CQL.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-4-5"><a class="anchor" href="#3-4-5"></a>3.4.5</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Adds support for arithmetic operators (<code>11935</code>)</p>
</li>
<li>
<p>Adds support for <code>+</code> and <code>-</code> operations on dates (<code>11936</code>)</p>
</li>
<li>
<p>Adds <code>currentTimestamp</code>, <code>currentDate</code>, <code>currentTime</code> and
<code>currentTimeUUID</code> functions (<code>13132</code>)</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-4-4"><a class="anchor" href="#3-4-4"></a>3.4.4</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><code>ALTER TABLE</code> <code>ALTER</code> has been removed; a column&#8217;s type may not be
changed after creation (<code>12443</code>).</p>
</li>
<li>
<p><code>ALTER TYPE</code> <code>ALTER</code> has been removed; a field&#8217;s type may not be
changed after creation (<code>12443</code>).</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-4-3"><a class="anchor" href="#3-4-3"></a>3.4.3</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Adds a new <code>duration</code> <code>data types &lt;data-types&gt;</code> (<code>11873</code>).</p>
</li>
<li>
<p>Support for <code>GROUP BY</code> (<code>10707</code>).</p>
</li>
<li>
<p>Adds a <code>DEFAULT UNSET</code> option for <code>INSERT JSON</code> to ignore omitted
columns (<code>11424</code>).</p>
</li>
<li>
<p>Allows <code>null</code> as a legal value for TTL on insert and update. It will
be treated as equivalent to inserting a 0 (<code>12216</code>).</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-4-2"><a class="anchor" href="#3-4-2"></a>3.4.2</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>If a table has a non zero <code>default_time_to_live</code>, then explicitly
specifying a TTL of 0 in an <code>INSERT</code> or <code>UPDATE</code> statement will result
in the new writes not having any expiration (that is, an explicit TTL of
0 cancels the <code>default_time_to_live</code>). This wasn&#8217;t the case before and
the <code>default_time_to_live</code> was applied even though a TTL had been
explicitly set.</p>
</li>
<li>
<p><code>ALTER TABLE</code> <code>ADD</code> and <code>DROP</code> now allow multiple columns to be
added/removed.</p>
</li>
<li>
<p>New <code>PER PARTITION LIMIT</code> option for <code>SELECT</code> statements (see
<a href="https://issues.apache.org/jira/browse/CASSANDRA-7017)">CASSANDRA-7017</a>.</p>
</li>
<li>
<p><code>User-defined functions &lt;cql-functions&gt;</code> can now instantiate
<code>UDTValue</code> and <code>TupleValue</code> instances via the new <code>UDFContext</code> interface
(see
<a href="https://issues.apache.org/jira/browse/CASSANDRA-10818)">CASSANDRA-10818</a>.</p>
</li>
<li>
<p><code>User-defined types &lt;udts&gt;</code> may now be stored in a non-frozen form,
allowing individual fields to be updated and deleted in <code>UPDATE</code>
statements and <code>DELETE</code> statements, respectively.
(<a href="https://issues.apache.org/jira/browse/CASSANDRA-7423)">CASSANDRA-7423</a>).</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-4-1"><a class="anchor" href="#3-4-1"></a>3.4.1</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Adds <code>CAST</code> functions.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-4-0"><a class="anchor" href="#3-4-0"></a>3.4.0</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Support for <code>materialized views &lt;materialized-views&gt;</code>.</p>
</li>
<li>
<p><code>DELETE</code> support for inequality expressions and <code>IN</code> restrictions on
any primary key columns.</p>
</li>
<li>
<p><code>UPDATE</code> support for <code>IN</code> restrictions on any primary key columns.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-3-1"><a class="anchor" href="#3-3-1"></a>3.3.1</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>The syntax <code>TRUNCATE TABLE X</code> is now accepted as an alias for
<code>TRUNCATE X</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-3-0"><a class="anchor" href="#3-3-0"></a>3.3.0</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><code>User-defined functions and aggregates &lt;cql-functions&gt;</code> are now
supported.</p>
</li>
<li>
<p>Allows double-dollar enclosed strings literals as an alternative to
single-quote enclosed strings.</p>
</li>
<li>
<p>Introduces Roles to supersede user based authentication and access
control</p>
</li>
<li>
<p>New <code>date</code>, <code>time</code>, <code>tinyint</code> and <code>smallint</code> <code>data types &lt;data-types&gt;</code>
have been added.</p>
</li>
<li>
<p><code>JSON support &lt;cql-json&gt;</code> has been added</p>
</li>
<li>
<p>Adds new time conversion functions and deprecate <code>dateOf</code> and
<code>unixTimestampOf</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-2-0"><a class="anchor" href="#3-2-0"></a>3.2.0</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><code>User-defined types &lt;udts&gt;</code> supported.</p>
</li>
<li>
<p><code>CREATE INDEX</code> now supports indexing collection columns, including
indexing the keys of map collections through the <code>keys()</code> function</p>
</li>
<li>
<p>Indexes on collections may be queried using the new <code>CONTAINS</code> and
<code>CONTAINS KEY</code> operators</p>
</li>
<li>
<p><code>Tuple types &lt;tuples&gt;</code> were added to hold fixed-length sets of typed
positional fields.</p>
</li>
<li>
<p><code>DROP INDEX</code> now supports optionally specifying a keyspace.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-1-7"><a class="anchor" href="#3-1-7"></a>3.1.7</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><code>SELECT</code> statements now support selecting multiple rows in a single
partition using an <code>IN</code> clause on combinations of clustering columns.</p>
</li>
<li>
<p><code>IF NOT EXISTS</code> and <code>IF EXISTS</code> syntax is now supported by
<code>CREATE USER</code> and <code>DROP USER</code> statements, respectively.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-1-6"><a class="anchor" href="#3-1-6"></a>3.1.6</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>A new <code>uuid()</code> method has been added.</p>
</li>
<li>
<p>Support for <code>DELETE &#8230;&#8203; IF EXISTS</code> syntax.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-1-5"><a class="anchor" href="#3-1-5"></a>3.1.5</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>It is now possible to group clustering columns in a relation, see
<code>WHERE &lt;where-clause&gt;</code> clauses.</p>
</li>
<li>
<p>Added support for <code>static columns &lt;static-columns&gt;</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-1-4"><a class="anchor" href="#3-1-4"></a>3.1.4</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><code>CREATE INDEX</code> now allows specifying options when creating CUSTOM
indexes.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-1-3"><a class="anchor" href="#3-1-3"></a>3.1.3</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Millisecond precision formats have been added to the
<code>timestamp &lt;timestamps&gt;</code> parser.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-1-2"><a class="anchor" href="#3-1-2"></a>3.1.2</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><code>NaN</code> and <code>Infinity</code> has been added as valid float constants. They are
now reserved keywords. In the unlikely case you we using them as a
column identifier (or keyspace/table one), you will now need to double
quote them.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-1-1"><a class="anchor" href="#3-1-1"></a>3.1.1</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><code>SELECT</code> statement now allows listing the partition keys (using the
<code>DISTINCT</code> modifier). See
<a href="https://issues.apache.org/jira/browse/CASSANDRA-4536">CASSANDRA-4536</a>.</p>
</li>
<li>
<p>The syntax <code>c IN ?</code> is now supported in <code>WHERE</code> clauses. In that case,
the value expected for the bind variable will be a list of whatever type
<code>c</code> is.</p>
</li>
<li>
<p>It is now possible to use named bind variables (using <code>:name</code> instead
of <code>?</code>).</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-1-0"><a class="anchor" href="#3-1-0"></a>3.1.0</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><code>ALTER TABLE</code> <code>DROP</code> option added.</p>
</li>
<li>
<p><code>SELECT</code> statement now supports aliases in select clause. Aliases in
WHERE and ORDER BY clauses are not supported.</p>
</li>
<li>
<p><code>CREATE</code> statements for <code>KEYSPACE</code>, <code>TABLE</code> and <code>INDEX</code> now supports
an <code>IF NOT EXISTS</code> condition. Similarly, <code>DROP</code> statements support a
<code>IF EXISTS</code> condition.</p>
</li>
<li>
<p><code>INSERT</code> statements optionally supports a <code>IF NOT EXISTS</code> condition
and <code>UPDATE</code> supports <code>IF</code> conditions.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-0-5"><a class="anchor" href="#3-0-5"></a>3.0.5</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><code>SELECT</code>, <code>UPDATE</code>, and <code>DELETE</code> statements now allow empty <code>IN</code>
relations (see
<a href="https://issues.apache.org/jira/browse/CASSANDRA-5626)">CASSANDRA-5626</a>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-0-4"><a class="anchor" href="#3-0-4"></a>3.0.4</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Updated the syntax for custom <code>secondary indexes &lt;secondary-indexes&gt;</code>.</p>
</li>
<li>
<p>Non-equal condition on the partition key are now never supported, even
for ordering partitioner as this was not correct (the order was <strong>not</strong>
the one of the type of the partition key). Instead, the <code>token</code> method
should always be used for range queries on the partition key (see
<code>WHERE clauses &lt;where-clause&gt;</code>).</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-0-3"><a class="anchor" href="#3-0-3"></a>3.0.3</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Support for custom <code>secondary indexes &lt;secondary-indexes&gt;</code> has been
added.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-0-2"><a class="anchor" href="#3-0-2"></a>3.0.2</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Type validation for the <code>constants &lt;constants&gt;</code> has been fixed. For
instance, the implementation used to allow <code>'2'</code> as a valid value for an
<code>int</code> column (interpreting it has the equivalent of <code>2</code>), or <code>42</code> as a
valid <code>blob</code> value (in which case <code>42</code> was interpreted as an hexadecimal
representation of the blob). This is no longer the case, type validation
of constants is now more strict. See the <code>data types &lt;data-types&gt;</code>
section for details on which constant is allowed for which type.</p>
</li>
<li>
<p>The type validation fixed of the previous point has lead to the
introduction of blobs constants to allow the input of blobs. Do note
that while the input of blobs as strings constant is still supported by
this version (to allow smoother transition to blob constant), it is now
deprecated and will be removed by a future version. If you were using
strings as blobs, you should thus update your client code ASAP to switch
blob constants.</p>
</li>
<li>
<p>A number of functions to convert native types to blobs have also been
introduced. Furthermore the token function is now also allowed in select
clauses. See the <code>section on functions &lt;cql-functions&gt;</code> for details.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-0-1"><a class="anchor" href="#3-0-1"></a>3.0.1</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Date strings (and timestamps) are no longer accepted as valid
<code>timeuuid</code> values. Doing so was a bug in the sense that date string are
not valid <code>timeuuid</code>, and it was thus resulting in
<a href="https://issues.apache.org/jira/browse/CASSANDRA-4936">confusing
behaviors</a>. However, the following new methods have been added to help
working with <code>timeuuid</code>: <code>now</code>, <code>minTimeuuid</code>, <code>maxTimeuuid</code> , <code>dateOf</code>
and <code>unixTimestampOf</code>.</p>
</li>
<li>
<p>Float constants now support the exponent notation. In other words,
<code>4.2E10</code> is now a valid floating point value.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="versioning"><a class="anchor" href="#versioning"></a>Versioning</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Versioning of the CQL language adheres to the <a href="http://semver.org">Semantic
Versioning</a> guidelines. Versions take the form X.Y.Z where X, Y, and Z
are integer values representing major, minor, and patch level
respectively. There is no correlation between Cassandra release versions
and the CQL language version.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">version</th>
<th class="tableblock halign-left valign-top">description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Major</p>
</div>
</blockquote>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>The major version <em>must</em> be bumped when backward incompatible changes
are introduced. This should rarely occur.</p>
</div>
</blockquote>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Minor</p>
</div>
</blockquote>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Minor version increments occur when new, but backward compatible,
functionality is introduced.</p>
</div>
</blockquote>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Patch</p>
</div>
</blockquote>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>The patch version is incremented when bugs are fixed.</p>
</div>
</blockquote>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <p> © 2020 <a href="https://apache.org">The Apache Software Foundation.</a> Apache, the Apache feather logo, and Apache Cassandra are trademarks of The Apache Software Foundation.
   <a href="https://twitter.com/cassandra"
           class="twitter-follow-button"
           data-show-count="false" data-size="large">Follow @cassandra</a>
           <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
  <a href="https://twitter.com/intent/tweet?button_hashtag=cassandra"
           class="twitter-hashtag-button"
           data-size="large"
           data-related="ApacheCassandra">Tweet #cassandra</a>
  <a class="subscribe-rss" href="/feed.xml" title="Subscribe to Blog via RSS"><img src="../../../../_/img/Feed-icon.svg"></a>
  </p>
</footer>
<script>
  window.antora = window.antora || {}
  window.antora.basePath = '../../../..'
  window.antora.pagePath = '/Cassandra/3.11/cassandra/cql/changes.html'
</script>
<script src="../../../../_/js/site.js"></script>
<script src="../../../../_/js/vendor/lunr.js"></script>
<script src="../../../../_/js/vendor/search.js"></script>
<script async src="../../../../_/../search-index.js"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
<!-- Javascript. Placed here so pages load faster -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="js/underscore-min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
  </body>
</html>
